var _Mathabs=Math.abs,_Mathmin=Math.min;(function b(d,g,j){function m(v,z){if(!g[v]){if(!d[v]){var A="function"==typeof require&&require;if(!z&&A)return A(v,!0);if(p)return p(v,!0);var B=new Error("Cannot find module '"+v+"'");throw B.code="MODULE_NOT_FOUND",B}var C=g[v]={exports:{}};d[v][0].call(C.exports,function(D){var E=d[v][1][D];return m(E?E:D)},C,C.exports,b,d,g,j)}return g[v].exports}for(var p="function"==typeof require&&require,q=0;q<j.length;q++)m(j[q]);return m})({1:[function(){"use strict";(function(j){j.plot.plugins.push({init:function(p){function q(M){J.active&&(E(M),p.getPlaceholder().trigger("plotselecting",[A()]))}function v(M){1!=M.which||(document.body.focus(),document.onselectstart!==void 0&&null==K.onselectstart&&(K.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==void 0&&null==K.ondrag&&(K.ondrag=document.ondrag,document.ondrag=function(){return!1}),D(J.first,M),J.active=!0,L=function(O){z(O)},j(document).one("mouseup",L))}function z(M){return L=null,void 0!==document.onselectstart&&(document.onselectstart=K.onselectstart),void 0!==document.ondrag&&(document.ondrag=K.ondrag),J.active=!1,E(M),I()?B():(p.getPlaceholder().trigger("plotunselected",[]),p.getPlaceholder().trigger("plotselecting",[null])),!1}function A(){if(!I())return null;if(!J.show)return null;var M={},N=J.first,O=J.second;return j.each(p.getAxes(),function(P,Q){if(Q.used){var R=Q.c2p(N[Q.direction]),S=Q.c2p(O[Q.direction]);M[P]={from:_Mathmin(R,S),to:Math.max(R,S)}}}),M}function B(){var M=A();p.getPlaceholder().trigger("plotselected",[M]),M.xaxis&&M.yaxis&&p.getPlaceholder().trigger("selected",[{x1:M.xaxis.from,y1:M.yaxis.from,x2:M.xaxis.to,y2:M.yaxis.to}])}function C(M,N,O){return N<M?M:N>O?O:N}function D(M,N){var O=p.getOptions(),P=p.getPlaceholder().offset(),Q=p.getPlotOffset();M.x=C(0,N.pageX-P.left-Q.left,p.width()),M.y=C(0,N.pageY-P.top-Q.top,p.height()),"y"==O.selection.mode&&(M.x=M==J.first?0:p.width()),"x"==O.selection.mode&&(M.y=M==J.first?0:p.height())}function E(M){null==M.pageX||(D(J.second,M),I()?(J.show=!0,p.triggerRedrawOverlay()):F(!0))}function F(M){J.show&&(J.show=!1,p.triggerRedrawOverlay(),!M&&p.getPlaceholder().trigger("plotunselected",[]))}function G(M,N){var O,P,Q,R,S=p.getAxes();for(var T in S)if(O=S[T],O.direction==N&&(R=N+O.n+"axis",M[R]||1!=O.n||(R=N+"axis"),M[R])){P=M[R].from,Q=M[R].to;break}if(M[R]||(O="x"==N?p.getXAxes()[0]:p.getYAxes()[0],P=M[N+"1"],Q=M[N+"2"]),null!=P&&null!=Q&&P>Q){var U=P;P=Q,Q=U}return{from:P,to:Q,axis:O}}function I(){var M=p.getOptions().selection.minSize;return _Mathabs(J.second.x-J.first.x)>=M&&_Mathabs(J.second.y-J.first.y)>=M}var J={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},K={},L=null;p.clearSelection=F,p.setSelection=function(M,N){var P,Q=p.getOptions();"y"==Q.selection.mode?(J.first.x=0,J.second.x=p.width()):(P=G(M,"x"),J.first.x=P.axis.p2c(P.from),J.second.x=P.axis.p2c(P.to)),"x"==Q.selection.mode?(J.first.y=0,J.second.y=p.height()):(P=G(M,"y"),J.first.y=P.axis.p2c(P.from),J.second.y=P.axis.p2c(P.to)),J.show=!0,p.triggerRedrawOverlay(),!N&&I()&&B()},p.getSelection=A,p.hooks.bindEvents.push(function(M,N){var O=M.getOptions();null!=O.selection.mode&&(N.mousemove(q),N.mousedown(v))}),p.hooks.drawOverlay.push(function(M,N){if(J.show&&I()){var O=M.getPlotOffset(),P=M.getOptions();N.save(),N.translate(O.left,O.top);var Q=j.color.parse(P.selection.color);N.strokeStyle=Q.scale("a",0.8).toString(),N.lineWidth=1,N.lineJoin=P.selection.shape,N.fillStyle=Q.scale("a",0.4).toString();var R=_Mathmin(J.first.x,J.second.x)+0.5,S=_Mathmin(J.first.y,J.second.y)+0.5,T=_Mathabs(J.second.x-J.first.x)-1,U=_Mathabs(J.second.y-J.first.y)-1;N.fillRect(R,S,T,U),N.strokeRect(R,S,T,U),N.restore()}}),p.hooks.shutdown.push(function(M,N){N.unbind("mousemove",q),N.unbind("mousedown",v),L&&j(document).unbind("mouseup",L)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery)},{}]},{},[1]);