var _Mathceil=Math.ceil,_Mathabs=Math.abs,_Mathround=Math.round,_Mathmin=Math.min,_Mathmax=Math.max,_Mathfloor=Math.floor;(function d(c,g,p){function m(y,S){if(!g[y]){if(!c[y]){var E="function"==typeof require&&require;if(!S&&E)return E(y,!0);if(h)return h(y,!0);var w=new Error("Cannot find module '"+y+"'");throw w.code="MODULE_NOT_FOUND",w}var D=g[y]={exports:{}};c[y][0].call(D.exports,function(C){var H=c[y][1][C];return m(H?H:C)},D,D.exports,d,c,g,p)}return g[y].exports}for(var h="function"==typeof require&&require,v=0;v<p.length;v++)m(p[v]);return m})({1:[function(){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};(function(m){m(jQuery,moment)})(function(m,h){function v(cn){return fe(cn,ht)}function y(cn,un){un.left&&cn.css({"border-left-width":1,"margin-left":un.left-1}),un.right&&cn.css({"border-right-width":1,"margin-right":un.right-1})}function S(cn){cn.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function E(){m("body").addClass("fc-not-allowed")}function w(){m("body").removeClass("fc-not-allowed")}function D(cn,un,gn){var pn=_Mathfloor(un/cn.length),fn=_Mathfloor(un-pn*(cn.length-1)),mn=[],hn=[],vn=[],yn=0;C(cn),cn.each(function(Sn,En){var wn=Sn===cn.length-1?fn:pn,bn=m(En).outerHeight(!0);bn<wn?(mn.push(En),hn.push(bn),vn.push(m(En).height())):yn+=bn}),gn&&(un-=yn,pn=_Mathfloor(un/mn.length),fn=_Mathfloor(un-pn*(mn.length-1))),m(mn).each(function(Sn,En){var wn=Sn===mn.length-1?fn:pn,bn=hn[Sn],Dn=vn[Sn];bn<wn&&m(En).height(wn-(bn-Dn))})}function C(cn){cn.height("")}function H(cn){var un=0;return cn.find("> *").each(function(gn,pn){var fn=m(pn).outerWidth();fn>un&&(un=fn)}),un++,cn.width(un),un}function x(cn,un){var gn=cn.add(un),pn;return gn.css({position:"relative",left:-1}),pn=cn.outerHeight()-un.outerHeight(),gn.css({position:"",left:""}),pn}function R(cn){var un=cn.css("position"),gn=cn.parents().filter(function(){var pn=m(this);return /(auto|scroll)/.test(pn.css("overflow")+pn.css("overflow-y")+pn.css("overflow-x"))}).eq(0);return"fixed"!==un&&gn.length?gn:m(cn[0].ownerDocument||document)}function I(cn,un){var gn=cn.offset(),pn=gn.left-(un?un.left:0),fn=gn.top-(un?un.top:0);return{left:pn,right:pn+cn.outerWidth(),top:fn,bottom:fn+cn.outerHeight()}}function L(cn,un){var gn=cn.offset(),pn=z(cn),fn=gn.left+O(cn,"border-left-width")+pn.left-(un?un.left:0),mn=gn.top+O(cn,"border-top-width")+pn.top-(un?un.top:0);return{left:fn,right:fn+cn[0].clientWidth,top:mn,bottom:mn+cn[0].clientHeight}}function z(cn){var un=cn.innerWidth()-cn[0].clientWidth,gn={left:0,right:0,top:0,bottom:cn.innerHeight()-cn[0].clientHeight};return F()&&"rtl"==cn.css("direction")?gn.left=un:gn.right=un,gn}function F(){return null==vt&&(vt=N()),vt}function N(){var cn=m("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),un=cn.children(),gn=un.offset().left>cn.offset().left;return cn.remove(),gn}function O(cn,un){return parseFloat(cn.css(un))||0}function G(cn){return 1==cn.which&&!cn.ctrlKey}function M(cn){if(void 0!==cn.pageX)return cn.pageX;var un=cn.originalEvent.touches;if(un)return un[0].pageX}function A(cn){if(void 0!==cn.pageY)return cn.pageY;var un=cn.originalEvent.touches;if(un)return un[0].pageY}function V(cn){return /^touch/.test(cn.type)}function P(cn){cn.addClass("fc-unselectable").on("selectstart",_)}function _(cn){cn.preventDefault()}function Y(cn){return!!window.addEventListener&&(window.addEventListener("scroll",cn,!0),!0)}function W(cn){return!!window.removeEventListener&&(window.removeEventListener("scroll",cn,!0),!0)}function U(cn,un){var gn={left:_Mathmax(cn.left,un.left),right:_Mathmin(cn.right,un.right),top:_Mathmax(cn.top,un.top),bottom:_Mathmin(cn.bottom,un.bottom)};return gn.left<gn.right&&gn.top<gn.bottom&&gn}function Z(cn,un){return{left:_Mathmin(_Mathmax(cn.left,un.left),un.right),top:_Mathmin(_Mathmax(cn.top,un.top),un.bottom)}}function Q(cn){return{left:(cn.left+cn.right)/2,top:(cn.top+cn.bottom)/2}}function X(cn,un){return{left:cn.left-un.left,top:cn.top-un.top}}function K(cn){var un=[],gn=[],pn,fn;for("string"==typeof cn?gn=cn.split(/\s*,\s*/):"function"==typeof cn?gn=[cn]:m.isArray(cn)&&(gn=cn),pn=0;pn<gn.length;pn++)fn=gn[pn],"string"==typeof fn?un.push("-"==fn.charAt(0)?{field:fn.substring(1),order:-1}:{field:fn,order:1}):"function"==typeof fn&&un.push({func:fn});return un}function J(cn,un,gn){var pn,fn;for(pn=0;pn<gn.length;pn++)if(fn=ee(cn,un,gn[pn]),fn)return fn;return 0}function ee(cn,un,gn){return gn.func?gn.func(cn,un):te(cn[gn.field],un[gn.field])*(gn.order||1)}function te(cn,un){return cn||un?null==un?-1:null==cn?1:"string"===m.type(cn)||"string"===m.type(un)?(cn+"").localeCompare(un+""):cn-un:0}function ne(cn,un){var gn=cn.start,pn=cn.end,fn=un.start,mn=un.end,hn,vn,yn,Sn;if(pn>fn&&gn<mn)return gn>=fn?(hn=gn.clone(),yn=!0):(hn=fn.clone(),yn=!1),pn<=mn?(vn=pn.clone(),Sn=!0):(vn=mn.clone(),Sn=!1),{start:hn,end:vn,isStart:yn,isEnd:Sn}}function re(cn,un){return h.duration({days:cn.clone().stripTime().diff(un.clone().stripTime(),"days"),ms:cn.time()-un.time()})}function ie(cn,un){return h.duration({days:cn.clone().stripTime().diff(un.clone().stripTime(),"days")})}function ae(cn,un,gn){return h.duration(_Mathround(cn.diff(un,gn,!0)),gn)}function le(cn,un){var gn,pn,fn;for(gn=0;gn<St.length&&(pn=St[gn],fn=oe(pn,cn,un),!(1<=fn&&xe(fn)));gn++);return pn}function oe(cn,un,gn){return null==gn?h.isDuration(un)?un.as(cn):un.end.diff(un.start,cn,!0):gn.diff(un,cn,!0)}function de(cn,un){var gn,pn;return ue(cn)||ue(un)?cn/un:(gn=cn.asMonths(),pn=un.asMonths(),1<=_Mathabs(gn)&&xe(gn)&&1<=_Mathabs(pn)&&xe(pn)?gn/pn:cn.asDays()/un.asDays())}function ue(cn){return!!(cn.hours()||cn.minutes()||cn.seconds()||cn.milliseconds())}function ge(cn){return"[object Date]"===Object.prototype.toString.call(cn)||cn instanceof Date}function pe(cn){return /^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(cn)}function fe(cn,un){var gn={},pn,fn,mn,hn,vn,yn;if(un)for(pn=0;pn<un.length;pn++){for(fn=un[pn],mn=[],hn=cn.length-1;0<=hn;hn--)if(vn=cn[hn][fn],"object"===("undefined"==typeof vn?"undefined":p(vn)))mn.unshift(vn);else if(void 0!==vn){gn[fn]=vn;break}mn.length&&(gn[fn]=fe(mn))}for(pn=cn.length-1;0<=pn;pn--)for(fn in yn=cn[pn],yn)fn in gn||(gn[fn]=yn[fn]);return gn}function me(cn){var un=function(){};return un.prototype=cn,new un}function he(cn,un){for(var gn in cn)ve(cn,gn)&&(un[gn]=cn[gn])}function ve(cn,un){return Et.call(cn,un)}function ye(cn){return /undefined|null|boolean|number|string/.test(m.type(cn))}function Se(cn,un,gn){if(m.isFunction(cn)&&(cn=[cn]),cn){var pn,fn;for(pn=0;pn<cn.length;pn++)fn=cn[pn].apply(un,gn)||fn;return fn}}function Ee(){for(var cn=0;cn<arguments.length;cn++)if(void 0!==arguments[cn])return arguments[cn]}function we(cn){return(cn+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function be(cn){return cn.replace(/&.*?;/g,"")}function De(cn){var un=[];return m.each(cn,function(gn,pn){null!=pn&&un.push(gn+":"+pn)}),un.join(";")}function Ce(cn){var un=[];return m.each(cn,function(gn,pn){null!=pn&&un.push(gn+"=\""+we(pn)+"\"")}),un.join(" ")}function Te(cn){return cn.charAt(0).toUpperCase()+cn.slice(1)}function He(cn,un){return cn-un}function xe(cn){return 0==cn%1}function Re(cn,un){var gn=cn[un];return function(){return gn.apply(cn,arguments)}}function Ie(cn,un,gn){var yn=function Sn(){var En=+new Date-hn;En<un?pn=setTimeout(Sn,un-En):(pn=null,!gn&&(vn=cn.apply(mn,fn),mn=fn=null))},pn,fn,mn,hn,vn;return function(){mn=this,fn=arguments,hn=+new Date;var Sn=gn&&!pn;return pn||(pn=setTimeout(yn,un)),Sn&&(vn=cn.apply(mn,fn),mn=fn=null),vn}}function ke(cn,un,gn){var pn=cn[0],fn=1==cn.length&&"string"==typeof pn,mn,hn,vn,yn;return h.isMoment(pn)||ge(pn)||void 0===pn?yn=h.apply(null,cn):(mn=!1,hn=!1,fn?wt.test(pn)?(pn+="-01",cn=[pn],mn=!0,hn=!0):(vn=bt.exec(pn))&&(mn=!vn[5],hn=!0):m.isArray(pn)&&(hn=!0),yn=un||mn?h.utc.apply(h,cn):h.apply(null,cn),mn?(yn._ambigTime=!0,yn._ambigZone=!0):gn&&(hn?yn._ambigZone=!0:fn&&yn.utcOffset(pn))),yn._fullCalendar=!0,yn}function Le(cn,un){return Ct.format.call(cn,un)}function Be(cn,un){return ze(cn,Me(un))}function ze(cn,un){var gn="",pn;for(pn=0;pn<un.length;pn++)gn+=Fe(cn,un[pn]);return gn}function Fe(cn,un){var gn,pn;return"string"==typeof un?un:(gn=un.token)?Ht[gn]?Ht[gn](cn):Le(cn,gn):un.maybe&&(pn=ze(cn,un.maybe),pn.match(/[1-9]/))?pn:""}function Ne(cn,un,gn,pn,fn){var mn;return cn=ft.moment.parseZone(cn),un=ft.moment.parseZone(un),mn=cn.localeData(),gn=mn.longDateFormat(gn)||gn,pn=pn||" - ",Oe(cn,un,Me(gn),pn,fn)}function Oe(cn,un,gn,pn,fn){var mn=cn.clone().stripZone(),hn=un.clone().stripZone(),Sn="",wn="",Dn="",Cn="",Tn="",vn,yn,En,bn;for(yn=0;yn<gn.length&&(vn=Ge(cn,un,mn,hn,gn[yn]),!1!==vn);yn++)Sn+=vn;for(En=gn.length-1;En>yn&&(vn=Ge(cn,un,mn,hn,gn[En]),!1!==vn);En--)wn=vn+wn;for(bn=yn;bn<=En;bn++)Dn+=Fe(cn,gn[bn]),Cn+=Fe(un,gn[bn]);return(Dn||Cn)&&(fn?Tn=Cn+pn+Dn:Tn=Dn+pn+Cn),Sn+Tn+wn}function Ge(cn,un,gn,pn,fn){var mn,hn;return"string"==typeof fn?fn:(mn=fn.token)&&(hn=xt[mn.charAt(0)],hn&&gn.isSame(pn,hn))&&Le(cn,mn)}function Me(cn){return cn in Rt?Rt[cn]:Rt[cn]=Ae(cn)}function Ae(cn){for(var un=[],gn=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g,pn;pn=gn.exec(cn);)pn[1]?un.push(pn[1]):pn[2]?un.push({maybe:Ae(pn[2])}):pn[3]?un.push({token:pn[3]}):pn[5]&&un.push(pn[5]);return un}function Ve(){}function Pe(cn,un){var gn;return ve(un,"constructor")&&(gn=un.constructor),"function"!=typeof gn&&(gn=un.constructor=function(){cn.apply(this,arguments)}),gn.prototype=me(cn.prototype),he(un,gn.prototype),he(cn,gn),gn}function _e(cn,un){he(un,cn.prototype)}function Ye(cn){var un=m.Deferred(),gn=un.promise();if("function"==typeof cn&&cn(function(fn){Ye.immediate&&(gn._value=fn),un.resolve(fn)},function(){un.reject()}),Ye.immediate){var pn=gn.then;gn.then=function(fn,mn){var hn=gn.state();if("resolved"===hn){if("function"==typeof fn)return Ye.resolve(fn(gn._value));}else if("rejected"===hn&&"function"==typeof mn)return mn(),gn;return pn.call(gn,fn,mn)}}return gn}function We(cn){function un(pn){return new Ye(function(fn){var mn=function(){Ye.resolve(pn()).then(fn).then(function(){gn.shift(),gn.length&&gn[0]()})};gn.push(mn),1===gn.length&&mn()})}var gn=[];this.add="number"==typeof cn?Ie(un,cn):un,this.addQuickly=un}function Ue(cn,un){return cn||un?cn&&un&&cn.component===un.component&&je(cn,un)&&je(un,cn):!0}function je(cn,un){for(var gn in cn)if(!/^(component|left|right|top|bottom)$/.test(gn)&&cn[gn]!==un[gn])return!1;return!0}function qe(cn){return{start:cn.start.clone(),end:cn.end?cn.end.clone():null,allDay:cn.allDay}}function Ze(cn){var un=Xe(cn);return"background"===un||"inverse-background"===un}function Qe(cn){return"inverse-background"===Xe(cn)}function Xe(cn){return Ee((cn.source||{}).rendering,cn.rendering)}function Ke(cn){var un={},gn,pn;for(gn=0;gn<cn.length;gn++)pn=cn[gn],(un[pn._id]||(un[pn._id]=[])).push(pn);return un}function $e(cn,un){return cn.start-un.start}function Je(cn){var un=ft.dataAttrPrefix,gn,pn,fn,mn;return un&&(un+="-"),gn=cn.data(un+"event")||null,gn&&(gn="object"===("undefined"==typeof gn?"undefined":p(gn))?m.extend({},gn):{},pn=gn.start,null==pn&&(pn=gn.time),fn=gn.duration,mn=gn.stick,delete gn.start,delete gn.time,delete gn.duration,delete gn.stick),null==pn&&(pn=cn.data(un+"start")),null==pn&&(pn=cn.data(un+"time")),null==fn&&(fn=cn.data(un+"duration")),null==mn&&(mn=cn.data(un+"stick")),pn=null==pn?null:h.duration(pn),fn=null==fn?null:h.duration(fn),mn=!!mn,{eventProps:gn,startTime:pn,duration:fn,stick:mn}}function et(cn,un){var gn,pn;for(gn=0;gn<un.length;gn++)if(pn=un[gn],pn.leftCol<=cn.rightCol&&pn.rightCol>=cn.leftCol)return!0;return!1}function tt(cn,un){return cn.leftCol-un.leftCol}function nt(cn){var un=[],gn,pn,fn;for(gn=0;gn<cn.length;gn++){for(pn=cn[gn],fn=0;fn<un.length&&!!at(pn,un[fn]).length;fn++);pn.level=fn,(un[fn]||(un[fn]=[])).push(pn)}return un}function rt(cn){var un,gn,pn,fn,mn;for(un=0;un<cn.length;un++)for(gn=cn[un],pn=0;pn<gn.length;pn++)for(fn=gn[pn],fn.forwardSegs=[],mn=un+1;mn<cn.length;mn++)at(fn,cn[mn],fn.forwardSegs)}function it(cn){var un=cn.forwardSegs,gn=0,pn,fn;if(void 0===cn.forwardPressure){for(pn=0;pn<un.length;pn++)fn=un[pn],it(fn),gn=_Mathmax(gn,1+fn.forwardPressure);cn.forwardPressure=gn}}function at(cn,un,gn){gn=gn||[];for(var pn=0;pn<un.length;pn++)lt(cn,un[pn])&&gn.push(un[pn]);return gn}function lt(cn,un){return cn.bottom>un.top&&cn.top<un.bottom}function ot(cn){this.items=cn||[]}function st(cn,un){function fn(){Dn&&(Dn.remove(),Dn=bn.el=null)}function mn(Hn){var xn=m("<div class=\"fc-"+Hn+"\"/>"),Rn=un.layout[Hn];return Rn&&m.each(Rn.split(" "),function(){var kn=m(),Ln=!0,Bn;m.each(this.split(","),function(zn,Fn){var Nn,On,Gn,Mn,An,Vn,Pn,_n,Yn,Wn;"title"==Fn?(kn=kn.add(m("<h2>&nbsp;</h2>")),Ln=!1):((Nn=(cn.options.customButtons||{})[Fn])?(Gn=function(jn){Nn.click&&Nn.click.call(Wn[0],jn)},Mn="",An=Nn.text):(On=cn.getViewSpec(Fn))?(Gn=function(){cn.changeView(Fn)},Cn.push(Fn),Mn=On.buttonTextOverride,An=On.buttonTextDefault):cn[Fn]&&(Gn=function(){cn[Fn]()},Mn=(cn.overrides.buttonText||{})[Fn],An=cn.options.buttonText[Fn]),Gn&&(Vn=Nn?Nn.themeIcon:cn.options.themeButtonIcons[Fn],Pn=Nn?Nn.icon:cn.options.buttonIcons[Fn],_n=Mn?we(Mn):Vn&&cn.options.theme?"<span class='ui-icon ui-icon-"+Vn+"'></span>":Pn&&!cn.options.theme?"<span class='fc-icon fc-icon-"+Pn+"'></span>":we(An),Yn=["fc-"+Fn+"-button",Tn+"-button",Tn+"-state-default"],Wn=m("<button type=\"button\" class=\""+Yn.join(" ")+"\">"+_n+"</button>").click(function(Un){Wn.hasClass(Tn+"-state-disabled")||(Gn(Un),(Wn.hasClass(Tn+"-state-active")||Wn.hasClass(Tn+"-state-disabled"))&&Wn.removeClass(Tn+"-state-hover"))}).mousedown(function(){Wn.not("."+Tn+"-state-active").not("."+Tn+"-state-disabled").addClass(Tn+"-state-down")}).mouseup(function(){Wn.removeClass(Tn+"-state-down")}).hover(function(){Wn.not("."+Tn+"-state-active").not("."+Tn+"-state-disabled").addClass(Tn+"-state-hover")},function(){Wn.removeClass(Tn+"-state-hover").removeClass(Tn+"-state-down")}),kn=kn.add(Wn)))}),Ln&&kn.first().addClass(Tn+"-corner-left").end().last().addClass(Tn+"-corner-right").end(),1<kn.length?(Bn=m("<div/>"),Ln&&Bn.addClass("fc-button-group"),Bn.append(kn),xn.append(Bn)):xn.append(kn)}),xn}var bn=this;bn.setToolbarOptions=function(Hn){un=Hn},bn.render=function(){var Hn=un.layout;Tn=cn.options.theme?"ui":"fc",Hn?(Dn?Dn.empty():Dn=this.el=m("<div class='fc-toolbar "+un.extraClasses+"'/>"),Dn.append(mn("left")).append(mn("right")).append(mn("center")).append("<div class=\"fc-clear\"/>")):fn()},bn.removeElement=fn,bn.updateTitle=function(Hn){Dn&&Dn.find("h2").text(Hn)},bn.activateButton=function(Hn){Dn&&Dn.find(".fc-"+Hn+"-button").addClass(Tn+"-state-active")},bn.deactivateButton=function(Hn){Dn&&Dn.find(".fc-"+Hn+"-button").removeClass(Tn+"-state-active")},bn.disableButton=function(Hn){Dn&&Dn.find(".fc-"+Hn+"-button").prop("disabled",!0).addClass(Tn+"-state-disabled")},bn.enableButton=function(Hn){Dn&&Dn.find(".fc-"+Hn+"-button").prop("disabled",!1).removeClass(Tn+"-state-disabled")},bn.getViewsWithButtons=function(){return Cn},bn.el=null;var Cn=[],Dn,Tn}function ct(cn){m.each(Zt,function(un,gn){null==cn[un]&&(cn[un]=gn(cn))})}function ut(cn){return h.localeData(cn)||h.localeData("en")}function gt(){function un(){ir=gn(rr),Xn.trigger("eventsReset",ir)}function gn(ar){var lr=[],or,sr;for(or=0;or<ar.length;or++)sr=ar[or],sr.start.clone().stripZone()<er&&Xn.getEventEnd(sr).stripZone()>Jn&&lr.push(sr);return lr}function pn(ar,lr){return!Jn||ar<Jn||lr>er}function fn(ar,lr){return Jn=ar,er=lr,mn()}function mn(){return vn($n,"reset")}function vn(ar,lr){var or,sr;for("reset"===lr?rr=[]:"add"!==lr&&(rr=zn(rr,ar)),or=0;or<ar.length;or++)sr=ar[or],"pending"!==sr._status&&nr++,sr._fetchId=(sr._fetchId||0)+1,sr._status="pending";for(or=0;or<ar.length;or++)sr=ar[or],yn(sr,sr._fetchId);return nr?new Ye(function(dr){Xn.one("eventsReceived",dr)}):Ye.resolve(ir)}function yn(ar,lr){wn(ar,function(or){var sr=m.isArray(ar.events),dr,cr,ur;if(lr===ar._fetchId&&"rejected"!==ar._status){if(ar._status="resolved",or)for(dr=0;dr<or.length;dr++)cr=or[dr],ur=sr?cr:Yn(cr,ar),ur&&rr.push.apply(rr,qn(ur));En()}})}function Sn(ar){var lr="pending"===ar._status;ar._status="rejected",lr&&En()}function En(){nr--,nr||(un(rr),Xn.trigger("eventsReceived",ir))}function wn(ar,lr){var sr=ft.sourceFetchers,or,dr;for(or=0;or<sr.length;or++){if(dr=sr[or].call(Xn,ar,Jn.clone(),er.clone(),Xn.options.timezone,lr),!0===dr)return;if("object"==("undefined"==typeof dr?"undefined":p(dr)))return void wn(dr,lr)}var cr=ar.events;if(cr)m.isFunction(cr)?(Xn.pushLoading(),cr.call(Xn,Jn.clone(),er.clone(),Xn.options.timezone,function(Er){lr(Er),Xn.popLoading()})):m.isArray(cr)?lr(cr):lr();else{var ur=ar.url;if(ur){var gr=ar.success,pr=ar.error,fr=ar.complete,mr;mr=m.isFunction(ar.data)?ar.data():ar.data;var hr=m.extend({},mr||{}),vr=Ee(ar.startParam,Xn.options.startParam),yr=Ee(ar.endParam,Xn.options.endParam),Sr=Ee(ar.timezoneParam,Xn.options.timezoneParam);vr&&(hr[vr]=Jn.format()),yr&&(hr[yr]=er.format()),Xn.options.timezone&&"local"!=Xn.options.timezone&&(hr[Sr]=Xn.options.timezone),Xn.pushLoading(),m.ajax(m.extend({},Qt,ar,{data:hr,success:function(wr){wr=wr||[];var br=Se(gr,this,arguments);m.isArray(br)&&(wr=br),lr(wr)},error:function(){Se(pr,this,arguments),lr()},complete:function(){Se(fr,this,arguments),Xn.popLoading()}}))}else lr()}}function Dn(ar){var lr=ft.sourceNormalizers,or,sr;if(m.isFunction(ar)||m.isArray(ar)?or={events:ar}:"string"==typeof ar?or={url:ar}:"object"===("undefined"==typeof ar?"undefined":p(ar))&&(or=m.extend({},ar)),or){for(or.className?"string"==typeof or.className&&(or.className=or.className.split(/\s+/)):or.className=[],m.isArray(or.events)&&(or.origArray=or.events,or.events=m.map(or.events,function(dr){return Yn(dr,or)})),sr=0;sr<lr.length;sr++)lr[sr].call(Xn,or);return or}}function Hn(ar,lr){var or;for(or=0;or<ar.length;or++)Sn(ar[or]);lr?($n=[],rr=[]):($n=m.grep($n,function(sr){for(or=0;or<ar.length;or++)if(sr===ar[or])return!1;return!0}),rr=zn(rr,ar)),un()}function Rn(ar){return m.grep($n,function(lr){return lr.id&&lr.id===ar})[0]}function In(ar){ar?!m.isArray(ar)&&(ar=[ar]):ar=[];var lr=[],or;for(or=0;or<ar.length;or++)lr.push.apply(lr,kn(ar[or]));return lr}function kn(ar){var lr,or;for(lr=0;lr<$n.length;lr++)if(or=$n[lr],or===ar)return[or];return or=Rn(ar),or?[or]:m.grep($n,function(sr){return Ln(ar,sr)})}function Ln(ar,lr){return ar&&lr&&Bn(ar)==Bn(lr)}function Bn(ar){return("object"===("undefined"==typeof ar?"undefined":p(ar))?ar.origArray||ar.googleCalendarId||ar.url||ar.events:null)||ar}function zn(ar,lr){return m.grep(ar,function(or){for(var sr=0;sr<lr.length;sr++)if(or.source===lr[sr])return!1;return!0})}function Nn(ar){var lr,or;for(lr=0;lr<ar.length;lr++)or=ar[lr],or.start=Xn.moment(or.start),or.end=or.end?Xn.moment(or.end):null,Zn(or,On(or));un()}function On(ar){var lr={};return m.each(ar,function(or,sr){Gn(or)&&void 0!==sr&&ye(sr)&&(lr[or]=sr)}),lr}function Gn(ar){return!/^_|^(id|allDay|start|end)$/.test(ar)}function An(ar,lr){var or=[],sr,dr,cr,ur,gr;for(cr=0;cr<ar.length;cr++)if(dr=Yn(ar[cr]),dr){for(sr=qn(dr),ur=0;ur<sr.length;ur++)gr=sr[ur],gr.source||(lr&&(Kn.events.push(gr),gr.source=Kn),rr.push(gr));or=or.concat(sr)}return or.length&&un(),or}function Pn(ar){return m.isFunction(ar)?m.grep(rr,ar):null==ar?rr:(ar+="",m.grep(rr,function(lr){return lr._id==ar}))}function _n(ar){ar.start=Xn.moment(ar.start),ar.end&&(ar.end=Xn.moment(ar.end)),pt(ar)}function Yn(ar,lr){var or={},sr,dr,cr;if(Xn.options.eventDataTransform&&(ar=Xn.options.eventDataTransform(ar)),lr&&lr.eventDataTransform&&(ar=lr.eventDataTransform(ar)),m.extend(or,ar),lr&&(or.source=lr),or._id=ar._id||(void 0===ar.id?"_fc"+Xt++:ar.id+""),or.className=ar.className?"string"==typeof ar.className?ar.className.split(/\s+/):ar.className:[],sr=ar.start||ar.date,dr=ar.end,pe(sr)&&(sr=h.duration(sr)),pe(dr)&&(dr=h.duration(dr)),ar.dow||h.isDuration(sr)||h.isDuration(dr))or.start=sr?h.duration(sr):null,or.end=dr?h.duration(dr):null,or._recurring=!0;else{if(sr&&(sr=Xn.moment(sr),!sr.isValid()))return!1;dr&&(dr=Xn.moment(dr),!dr.isValid()&&(dr=null)),cr=ar.allDay,void 0===cr&&(cr=Ee(lr?lr.allDayDefault:void 0,Xn.options.allDayDefault)),Wn(sr,dr,cr,or)}return Xn.normalizeEvent(or),or}function Wn(ar,lr,or,sr){sr.start=ar,sr.end=lr,sr.allDay=or,Un(sr),pt(sr)}function Un(ar){jn(ar),ar.end&&!ar.end.isAfter(ar.start)&&(ar.end=null),ar.end||(Xn.options.forceEventDuration?ar.end=Xn.getDefaultEventEnd(ar.allDay,ar.start):ar.end=null)}function jn(ar){null==ar.allDay&&(ar.allDay=!(ar.start.hasTime()||ar.end&&ar.end.hasTime())),ar.allDay?(ar.start.stripTime(),ar.end&&ar.end.stripTime()):(!ar.start.hasTime()&&(ar.start=Xn.applyTimezone(ar.start.time(0))),ar.end&&!ar.end.hasTime()&&(ar.end=Xn.applyTimezone(ar.end.time(0))))}function qn(ar,lr,or){var sr=[],dr,cr,ur,gr,pr,fr,mr,hr,vr;if(lr=lr||Jn,or=or||er,ar)if(ar._recurring){if(cr=ar.dow)for(dr={},ur=0;ur<cr.length;ur++)dr[cr[ur]]=!0;for(gr=lr.clone().stripTime();gr.isBefore(or);)(!dr||dr[gr.day()])&&(pr=ar.start,fr=ar.end,mr=gr.clone(),hr=null,pr&&(mr=mr.time(pr)),fr&&(hr=gr.clone().time(fr)),vr=m.extend({},ar),Wn(mr,hr,!pr&&!fr,vr),sr.push(vr)),gr.add(1,"days")}else sr.push(ar);return sr}function Zn(ar,lr,or){function sr(hr,vr){return or?ae(hr,vr,or):lr.allDay?ie(hr,vr):re(hr,vr)}var dr={},cr,ur,gr,pr,fr,mr;return lr=lr||{},lr.start||(lr.start=ar.start.clone()),void 0===lr.end&&(lr.end=ar.end?ar.end.clone():null),null==lr.allDay&&(lr.allDay=ar.allDay),Un(lr),cr={start:ar._start.clone(),end:ar._end?ar._end.clone():Xn.getDefaultEventEnd(ar._allDay,ar._start),allDay:lr.allDay},Un(cr),ur=null!==ar._end&&null===lr.end,gr=sr(lr.start,cr.start),lr.end?(pr=sr(lr.end,cr.end),fr=pr.subtract(gr)):fr=null,m.each(lr,function(hr,vr){Gn(hr)&&void 0!==vr&&(dr[hr]=vr)}),mr=Qn(Pn(ar._id),ur,lr.allDay,gr,fr,dr),{dateDelta:gr,durationDelta:fr,undo:mr}}function Qn(ar,lr,or,sr,dr,cr){var ur=Xn.getIsAmbigTimezone(),gr=[];return sr&&!sr.valueOf()&&(sr=null),dr&&!dr.valueOf()&&(dr=null),m.each(ar,function(pr,fr){var mr,hr;mr={start:fr.start.clone(),end:fr.end?fr.end.clone():null,allDay:fr.allDay},m.each(cr,function(vr){mr[vr]=fr[vr]}),hr={start:fr._start,end:fr._end,allDay:or},Un(hr),lr?hr.end=null:dr&&!hr.end&&(hr.end=Xn.getDefaultEventEnd(hr.allDay,hr.start)),sr&&(hr.start.add(sr),hr.end&&hr.end.add(sr)),dr&&hr.end.add(dr),ur&&!hr.allDay&&(sr||dr)&&(hr.start.stripZone(),hr.end&&hr.end.stripZone()),m.extend(fr,cr,hr),pt(fr),gr.push(function(){m.extend(fr,mr),pt(fr)})}),function(){for(var pr=0;pr<gr.length;pr++)gr[pr]()}}var Xn=this;Xn.requestEvents=function(ar,lr){return!Xn.options.lazyFetching||pn(ar,lr)?fn(ar,lr):Ye.resolve(ir)},Xn.reportEventChange=un,Xn.isFetchNeeded=pn,Xn.fetchEvents=fn,Xn.fetchEventSources=vn,Xn.refetchEvents=mn,Xn.refetchEventSources=function(ar){return vn(In(ar))},Xn.getEventSources=function(){return $n.slice(1)},Xn.getEventSourceById=Rn,Xn.addEventSource=function(ar){var lr=Dn(ar);lr&&($n.push(lr),vn([lr],"add"))},Xn.removeEventSource=function(ar){Hn(kn(ar))},Xn.removeEventSources=function(ar){null==ar?Hn($n,!0):Hn(In(ar))},Xn.updateEvent=function(ar){Nn([ar])},Xn.updateEvents=Nn,Xn.renderEvent=function(ar,lr){return An([ar],lr)},Xn.renderEvents=An,Xn.removeEvents=function(ar){var lr,or;for(null==ar?ar=function(){return!0}:!m.isFunction(ar)&&(lr=ar+"",ar=function(dr){return dr._id==lr}),rr=m.grep(rr,ar,!0),or=0;or<$n.length;or++)m.isArray($n[or].events)&&($n[or].events=m.grep($n[or].events,ar,!0));un()},Xn.clientEvents=Pn,Xn.mutateEvent=Zn,Xn.normalizeEventDates=Un,Xn.normalizeEventTimes=jn;var Kn={events:[]},$n=[Kn],nr=0,rr=[],Jn,er,ir;m.each((Xn.options.events?[Xn.options.events]:[]).concat(Xn.options.eventSources||[]),function(ar,lr){var or=Dn(lr);or&&$n.push(or)}),Xn.getEventCache=function(){return rr},Xn.getPrunedEventCache=function(){return ir},Xn.rezoneArrayEventSources=function(){var ar,lr,or;for(ar=0;ar<$n.length;ar++)if(lr=$n[ar].events,m.isArray(lr))for(or=0;or<lr.length;or++)_n(lr[or])},Xn.buildEventFromInput=Yn,Xn.expandEvent=qn}function pt(cn){cn._allDay=cn.allDay,cn._start=cn.start.clone(),cn._end=cn.end?cn.end.clone():null}var ft=m.fullCalendar={version:"3.1.0",internalApiVersion:7},mt=ft.views={};m.fn.fullCalendar=function(cn){var un=Array.prototype.slice.call(arguments,1),gn=this;return this.each(function(pn,fn){var mn=m(fn),hn=mn.data("fullCalendar"),vn;"string"==typeof cn?hn&&m.isFunction(hn[cn])&&(vn=hn[cn].apply(hn,un),!pn&&(gn=vn),"destroy"===cn&&mn.removeData("fullCalendar")):!hn&&(hn=new Wt(mn,cn),mn.data("fullCalendar",hn),hn.render())}),gn};var ht=["header","footer","buttonText","buttonIcons","themeButtonIcons"];ft.intersectRanges=ne,ft.applyAll=Se,ft.debounce=Ie,ft.isInt=xe,ft.htmlEscape=we,ft.cssToStr=De,ft.proxy=Re,ft.capitaliseFirstLetter=Te,ft.getOuterRect=I,ft.getClientRect=L,ft.getContentRect=function(cn,un){var gn=cn.offset(),pn=gn.left+O(cn,"border-left-width")+O(cn,"padding-left")-(un?un.left:0),fn=gn.top+O(cn,"border-top-width")+O(cn,"padding-top")-(un?un.top:0);return{left:pn,right:pn+cn.width(),top:fn,bottom:fn+cn.height()}},ft.getScrollbarWidths=z;var vt=null;ft.preventDefault=_,ft.intersectRects=U,ft.parseFieldSpecs=K,ft.compareByFieldSpecs=J,ft.compareByFieldSpec=ee,ft.flexibleCompare=te,ft.computeIntervalUnit=le,ft.divideRangeByDuration=function(cn,un,gn){var pn;return ue(gn)?(un-cn)/gn:(pn=gn.asMonths(),1<=_Mathabs(pn)&&xe(pn)?un.diff(cn,"months",!0)/pn:un.diff(cn,"days",!0)/gn.asDays())},ft.divideDurationByDuration=de,ft.multiplyDuration=function(cn,un){var gn;return ue(cn)?h.duration(cn*un):(gn=cn.asMonths(),1<=_Mathabs(gn)&&xe(gn)?h.duration({months:gn*un}):h.duration({days:cn.asDays()*un}))},ft.durationHasTime=ue;var yt=["sun","mon","tue","wed","thu","fri","sat"],St=["year","month","week","day","hour","minute","second","millisecond"];ft.log=function(){var cn=window.console;if(cn&&cn.log)return cn.log.apply(cn,arguments)},ft.warn=function(){var cn=window.console;return cn&&cn.warn?cn.warn.apply(cn,arguments):ft.log.apply(ft,arguments)};var Et={}.hasOwnProperty;ft.createObject=me;var wt=/^\s*\d{4}-\d\d$/,bt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Dt=h.fn,Ct=m.extend({},Dt),Tt=h.momentProperties;Tt.push("_fullCalendar"),Tt.push("_ambigTime"),Tt.push("_ambigZone"),ft.moment=function(){return ke(arguments)},ft.moment.utc=function(){var cn=ke(arguments,!0);return cn.hasTime()&&cn.utc(),cn},ft.moment.parseZone=function(){return ke(arguments,!0,!0)},Dt.week=Dt.weeks=function(cn){var un=this._locale._fullCalendar_weekCalc;return null==cn&&"function"==typeof un?un(this):"ISO"===un?Ct.isoWeek.apply(this,arguments):Ct.week.apply(this,arguments)},Dt.time=function(cn){if(!this._fullCalendar)return Ct.time.apply(this,arguments);if(null==cn)return h.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,h.isDuration(cn)||h.isMoment(cn)||(cn=h.duration(cn));var un=0;return h.isDuration(cn)&&(un=24*_Mathfloor(cn.asDays())),this.hours(un+cn.hours()).minutes(cn.minutes()).seconds(cn.seconds()).milliseconds(cn.milliseconds())},Dt.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},Dt.hasTime=function(){return!this._ambigTime},Dt.stripZone=function(){var cn;return this._ambigZone||(cn=this._ambigTime,this.utc(!0),this._ambigTime=cn||!1,this._ambigZone=!0),this},Dt.hasZone=function(){return!this._ambigZone},Dt.local=function(cn){return Ct.local.call(this,this._ambigZone||cn),this._ambigTime=!1,this._ambigZone=!1,this},Dt.utc=function(cn){return Ct.utc.call(this,cn),this._ambigTime=!1,this._ambigZone=!1,this},Dt.utcOffset=function(cn){return null!=cn&&(this._ambigTime=!1,this._ambigZone=!1),Ct.utcOffset.apply(this,arguments)},Dt.format=function(){return this._fullCalendar&&arguments[0]?Be(this,arguments[0]):this._ambigTime?Le(this,"YYYY-MM-DD"):this._ambigZone?Le(this,"YYYY-MM-DD[T]HH:mm:ss"):Ct.format.apply(this,arguments)},Dt.toISOString=function(){return this._ambigTime?Le(this,"YYYY-MM-DD"):this._ambigZone?Le(this,"YYYY-MM-DD[T]HH:mm:ss"):Ct.toISOString.apply(this,arguments)};var Ht={t:function(un){return Le(un,"a").charAt(0)},T:function(un){return Le(un,"A").charAt(0)}};ft.formatRange=Ne;var xt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Rt={},It={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};ft.queryMostGranularFormatUnit=function(cn){var un=Me(cn),gn,pn,fn,mn;for(gn=0;gn<un.length;gn++)pn=un[gn],pn.token&&(fn=It[pn.token.charAt(0)],fn&&(!mn||fn.value>mn.value)&&(mn=fn));return mn?mn.unit:null},ft.Class=Ve,Ve.extend=function(){var cn=arguments.length,un,gn;for(un=0;un<cn;un++)gn=arguments[un],un<cn-1&&_e(this,gn);return Pe(this,gn||{})},Ve.mixin=function(cn){_e(this,cn)},ft.Promise=Ye,Ye.immediate=!0,Ye.resolve=function(cn){if(cn&&"function"==typeof cn.resolve)return cn.promise();if(cn&&"function"==typeof cn.then)return cn;var un=m.Deferred().resolve(cn),gn=un.promise();if(Ye.immediate){var pn=gn.then;gn._value=cn,gn.then=function(fn,mn){return"function"==typeof fn?Ye.resolve(fn(cn)):pn.call(gn,fn,mn)}}return gn},Ye.reject=function(){return m.Deferred().reject().promise()},Ye.all=function(cn){var un=!1,gn,pn,fn;if(Ye.immediate)for(un=!0,gn=[],pn=0;pn<cn.length;pn++)if(fn=cn[pn],fn&&"function"==typeof fn.state&&"resolved"===fn.state()&&"_value"in fn)gn.push(fn._value);else if(fn&&"function"==typeof fn.then){un=!1;break}else gn.push(fn);return un?Ye.resolve(gn):m.when.apply(m.when,cn).then(function(){return m.when(m.makeArray(arguments))})},ft.TaskQueue=We;var kt=ft.EmitterMixin={on:function(un,gn){return m(this).on(un,this._prepareIntercept(gn)),this},one:function(un,gn){return m(this).one(un,this._prepareIntercept(gn)),this},_prepareIntercept:function(un){var gn=function(fn,mn){return un.apply(mn.context||this,mn.args||[])};return un.guid||(un.guid=m.guid++),gn.guid=un.guid,gn},off:function(un,gn){return m(this).off(un,gn),this},trigger:function(un){var gn=Array.prototype.slice.call(arguments,1);return m(this).triggerHandler(un,{args:gn}),this},triggerWith:function(un,gn,pn){return m(this).triggerHandler(un,{context:gn,args:pn}),this}},Lt=ft.ListenerMixin=function(){var cn=0;return{listenerId:null,listenTo:function(pn,fn,mn){if("object"===("undefined"==typeof fn?"undefined":p(fn)))for(var hn in fn)fn.hasOwnProperty(hn)&&this.listenTo(pn,hn,fn[hn]);else"string"==typeof fn&&pn.on(fn+"."+this.getListenerNamespace(),m.proxy(mn,this))},stopListeningTo:function(pn,fn){pn.off((fn||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=cn++),"_listener"+this.listenerId}}}(),Bt={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(un){this.delayUnignoreMouse=Ie(Re(this,"unignoreMouse"),un||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},zt=Ve.extend(Lt,{isHidden:!0,options:null,el:null,margin:10,constructor:function(un){this.options=un||{}},show:function(){this.isHidden&&(!this.el&&this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var un=this,gn=this.options;this.el=m("<div class=\"fc-popover\"/>").addClass(gn.className||"").css({top:0,left:0}).append(gn.content).appendTo(gn.parentEl),this.el.on("click",".fc-close",function(){un.hide()}),gn.autoHide&&this.listenTo(m(document),"mousedown",this.documentMousedown)},documentMousedown:function(un){this.el&&!m(un.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(m(document),"mousedown")},position:function(){var un=this.options,gn=this.el.offsetParent().offset(),pn=this.el.outerWidth(),fn=this.el.outerHeight(),mn=m(window),hn=R(this.el),vn,yn,Sn,En,wn;En=un.top||0,wn=void 0===un.left?void 0===un.right?0:un.right-pn:un.left,hn.is(window)||hn.is(document)?(hn=mn,vn=0,yn=0):(Sn=hn.offset(),vn=Sn.top,yn=Sn.left),vn+=mn.scrollTop(),yn+=mn.scrollLeft(),!1!==un.viewportConstrain&&(En=_Mathmin(En,vn+hn.outerHeight()-fn-this.margin),En=_Mathmax(En,vn+this.margin),wn=_Mathmin(wn,yn+hn.outerWidth()-pn-this.margin),wn=_Mathmax(wn,yn+this.margin)),this.el.css({top:En-gn.top,left:wn-gn.left})},trigger:function(un){this.options[un]&&this.options[un].apply(this,Array.prototype.slice.call(arguments,1))}}),Ft=ft.CoordCache=Ve.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(un){this.els=m(un.els),this.isHorizontal=un.isHorizontal,this.isVertical=un.isVertical,this.forcedOffsetParentEl=un.offsetParent?m(un.offsetParent):null},build:function(){var un=this.forcedOffsetParentEl;!un&&0<this.els.length&&(un=this.els.eq(0).offsetParent()),this.origin=un?un.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var un=[],gn=[];this.els.each(function(pn,fn){var mn=m(fn),hn=mn.offset().left,vn=mn.outerWidth();un.push(hn),gn.push(hn+vn)}),this.lefts=un,this.rights=gn},buildElVerticals:function(){var un=[],gn=[];this.els.each(function(pn,fn){var mn=m(fn),hn=mn.offset().top,vn=mn.outerHeight();un.push(hn),gn.push(hn+vn)}),this.tops=un,this.bottoms=gn},getHorizontalIndex:function(un){this.ensureBuilt();var gn=this.lefts,pn=this.rights,fn=gn.length,mn;for(mn=0;mn<fn;mn++)if(un>=gn[mn]&&un<pn[mn])return mn},getVerticalIndex:function(un){this.ensureBuilt();var gn=this.tops,pn=this.bottoms,fn=gn.length,mn;for(mn=0;mn<fn;mn++)if(un>=gn[mn]&&un<pn[mn])return mn},getLeftOffset:function(un){return this.ensureBuilt(),this.lefts[un]},getLeftPosition:function(un){return this.ensureBuilt(),this.lefts[un]-this.origin.left},getRightOffset:function(un){return this.ensureBuilt(),this.rights[un]},getRightPosition:function(un){return this.ensureBuilt(),this.rights[un]-this.origin.left},getWidth:function(un){return this.ensureBuilt(),this.rights[un]-this.lefts[un]},getTopOffset:function(un){return this.ensureBuilt(),this.tops[un]},getTopPosition:function(un){return this.ensureBuilt(),this.tops[un]-this.origin.top},getBottomOffset:function(un){return this.ensureBuilt(),this.bottoms[un]},getBottomPosition:function(un){return this.ensureBuilt(),this.bottoms[un]-this.origin.top},getHeight:function(un){return this.ensureBuilt(),this.bottoms[un]-this.tops[un]},queryBoundingRect:function(){var un;return 0<this.els.length&&(un=R(this.els.eq(0)),!un.is(document))?L(un):null},isPointInBounds:function(un,gn){return this.isLeftInBounds(un)&&this.isTopInBounds(gn)},isLeftInBounds:function(un){return!this.boundingRect||un>=this.boundingRect.left&&un<this.boundingRect.right},isTopInBounds:function(un){return!this.boundingRect||un>=this.boundingRect.top&&un<this.boundingRect.bottom}}),Nt=ft.DragListener=Ve.extend(Lt,Bt,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(un){this.options=un||{},this.handleTouchScrollProxy=Re(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(un,gn){var pn=V(un);if("mousedown"===un.type){if(this.isIgnoringMouse)return;if(!G(un))return;un.preventDefault()}this.isInteracting||(gn=gn||{},this.delay=Ee(gn.delay,this.options.delay,0),this.minDistance=Ee(gn.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=pn,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=M(un),this.originY=A(un),this.scrollEl=R(m(un.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(un),this.startDelay(un),!this.minDistance&&this.handleDistanceSurpassed(un))},handleInteractionStart:function(un){this.trigger("interactionStart",un)},endInteraction:function(un,gn){this.isInteracting&&(this.endDrag(un),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(un,gn),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(un,gn){this.trigger("interactionEnd",un,gn||!1)},bindHandlers:function(){var un=this,gn=1;this.isTouch?(this.listenTo(m(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(fn){gn?gn--:un.endInteraction(fn,!0)}}),!Y(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(m(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(m(document),{selectstart:_,contextmenu:_})},unbindHandlers:function(){this.stopListeningTo(m(document)),W(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(un,gn){this.startInteraction(un,gn),this.isDragging||(this.isDragging=!0,this.handleDragStart(un))},handleDragStart:function(un){this.trigger("dragStart",un)},handleMove:function(un){var gn=M(un)-this.originX,pn=A(un)-this.originY,fn=this.minDistance,mn;this.isDistanceSurpassed||(mn=gn*gn+pn*pn,mn>=fn*fn&&this.handleDistanceSurpassed(un)),this.isDragging&&this.handleDrag(gn,pn,un)},handleDrag:function(un,gn,pn){this.trigger("drag",un,gn,pn),this.updateAutoScroll(pn)},endDrag:function(un){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(un))},handleDragEnd:function(un){this.trigger("dragEnd",un)},startDelay:function(un){var gn=this;this.delay?this.delayTimeoutId=setTimeout(function(){gn.handleDelayEnd(un)},this.delay):this.handleDelayEnd(un)},handleDelayEnd:function(un){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(un)},handleDistanceSurpassed:function(un){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(un)},handleTouchMove:function(un){this.isDragging&&un.preventDefault(),this.handleMove(un)},handleMouseMove:function(un){this.handleMove(un)},handleTouchScroll:function(un){this.isDragging||this.endInteraction(un,!0)},trigger:function(un){this.options[un]&&this.options[un].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+un]&&this["_"+un].apply(this,Array.prototype.slice.call(arguments,1))}});Nt.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var un=this.scrollEl;this.isAutoScroll=this.options.scroll&&un&&!un.is(window)&&!un.is(document),this.isAutoScroll&&this.listenTo(un,"scroll",Ie(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=I(this.scrollEl))},updateAutoScroll:function(un){var gn=this.scrollSensitivity,pn=this.scrollBounds,yn=0,Sn=0,fn,mn,hn,vn;pn&&(fn=(gn-(A(un)-pn.top))/gn,mn=(gn-(pn.bottom-A(un)))/gn,hn=(gn-(M(un)-pn.left))/gn,vn=(gn-(pn.right-M(un)))/gn,0<=fn&&1>=fn?yn=-1*(fn*this.scrollSpeed):0<=mn&&1>=mn&&(yn=mn*this.scrollSpeed),0<=hn&&1>=hn?Sn=-1*(hn*this.scrollSpeed):0<=vn&&1>=vn&&(Sn=vn*this.scrollSpeed)),this.setScrollVel(yn,Sn)},setScrollVel:function(un,gn){this.scrollTopVel=un,this.scrollLeftVel=gn,this.constrainScrollVel(),(this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId&&(this.scrollIntervalId=setInterval(Re(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var un=this.scrollEl;0>this.scrollTopVel?0>=un.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&un.scrollTop()+un[0].clientHeight>=un[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=un.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&un.scrollLeft()+un[0].clientWidth>=un[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var un=this.scrollEl,gn=this.scrollIntervalMs/1e3;this.scrollTopVel&&un.scrollTop(un.scrollTop()+this.scrollTopVel*gn),this.scrollLeftVel&&un.scrollLeft(un.scrollLeft()+this.scrollLeftVel*gn),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var Ot=Nt.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(un,gn){Nt.call(this,gn),this.component=un},handleInteractionStart:function(un){var gn=this.subjectEl,pn,fn,mn;this.computeCoords(),un?(fn={left:M(un),top:A(un)},mn=fn,gn&&(pn=I(gn),mn=Z(mn,pn)),this.origHit=this.queryHit(mn.left,mn.top),gn&&this.options.subjectCenter&&(this.origHit&&(pn=U(this.origHit,pn)||pn),mn=Q(pn)),this.coordAdjust=X(mn,fn)):(this.origHit=null,this.coordAdjust=null),Nt.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(un){var gn;Nt.prototype.handleDragStart.apply(this,arguments),gn=this.queryHit(M(un),A(un)),gn&&this.handleHitOver(gn)},handleDrag:function(un,gn,pn){var fn;Nt.prototype.handleDrag.apply(this,arguments),fn=this.queryHit(M(pn),A(pn)),Ue(fn,this.hit)||(this.hit&&this.handleHitOut(),fn&&this.handleHitOver(fn))},handleDragEnd:function(){this.handleHitDone(),Nt.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(un){var gn=Ue(un,this.origHit);this.hit=un,this.trigger("hitOver",this.hit,gn,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){Nt.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){Nt.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(un,gn){return this.coordAdjust&&(un+=this.coordAdjust.left,gn+=this.coordAdjust.top),this.component.queryHit(un,gn)}}),Gt=Ve.extend(Lt,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(un,gn){this.options=gn=gn||{},this.sourceEl=un,this.parentEl=gn.parentEl?m(gn.parentEl):un.parent()},start:function(un){this.isFollowing||(this.isFollowing=!0,this.y0=A(un),this.x0=M(un),this.topDelta=0,this.leftDelta=0,!this.isHidden&&this.updatePosition(),V(un)?this.listenTo(m(document),"touchmove",this.handleMove):this.listenTo(m(document),"mousemove",this.handleMove))},stop:function(un,gn){function pn(){fn.isAnimating=!1,fn.removeElement(),fn.top0=fn.left0=null,gn&&gn()}var fn=this,mn=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(m(document)),un&&mn&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:mn,complete:pn})):pn())},getEl:function(){var un=this.el;return un||(un=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),un.addClass("fc-unselectable"),un.appendTo(this.parentEl)),un},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var un,gn;this.getEl(),null===this.top0&&(un=this.sourceEl.offset(),gn=this.el.offsetParent().offset(),this.top0=un.top-gn.top,this.left0=un.left-gn.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(un){this.topDelta=A(un)-this.y0,this.leftDelta=M(un)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Mt=ft.Grid=Ve.extend(Lt,Bt,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(un){this.view=un,this.isRTL=un.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(un){this.start=un.start.clone(),this.end=un.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var un=this.view,gn,pn;this.eventTimeFormat=un.opt("eventTimeFormat")||un.opt("timeFormat")||this.computeEventTimeFormat(),gn=un.opt("displayEventTime"),null==gn&&(gn=this.computeDisplayEventTime()),pn=un.opt("displayEventEnd"),null==pn&&(pn=this.computeDisplayEventEnd()),this.displayEventTime=gn,this.displayEventEnd=pn},spanToSegs:function(){},diffDates:function(un,gn){return this.largeUnit?ae(un,gn,this.largeUnit):re(un,gn)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(un){this.el=un,this.hasDayInteractions&&(P(un),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(un,gn){var pn=this;this.el.on(un,function(fn){if(!m(fn.target).is(pn.segSelector+","+pn.segSelector+" *,.fc-more,a[data-goto]"))return gn.call(pn,fn)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(m(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(m(document))},dayMousedown:function(un){this.isIgnoringMouse||this.dayDragListener.startInteraction(un,{})},dayTouchStart:function(un){var gn=this.view,pn=gn.opt("selectLongPressDelay");(gn.isSelected||gn.selectedEvent)&&this.tempIgnoreMouse(),null==pn&&(pn=gn.opt("longPressDelay")),this.dayDragListener.startInteraction(un,{delay:pn})},buildDayDragListener:function(){var un=this,gn=this.view,pn=gn.opt("selectable"),hn=new Ot(this,{scroll:gn.opt("dragScroll"),interactionStart:function(){fn=hn.origHit,mn=null},dragStart:function(){gn.unselect()},hitOver:function(yn,Sn,En){En&&(!Sn&&(fn=null),pn&&(mn=un.computeSelection(un.getHitSpan(En),un.getHitSpan(yn)),mn?un.renderSelection(mn):!1===mn&&E()))},hitOut:function(){fn=null,mn=null,un.unrenderSelection()},hitDone:function(){w()},interactionEnd:function(yn,Sn){Sn||(fn&&!un.isIgnoringMouse&&gn.triggerDayClick(un.getHitSpan(fn),un.getHitEl(fn),yn),mn&&gn.reportSelection(mn,yn))}}),fn,mn;return hn},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(un,gn){var pn=this.fabricateHelperEvent(un,gn);return this.renderHelper(pn,gn)},fabricateHelperEvent:function(un,gn){var pn=gn?me(gn.event):{};return pn.start=un.start.clone(),pn.end=un.end?un.end.clone():null,pn.allDay=null,this.view.calendar.normalizeEventDates(pn),pn.className=(pn.className||[]).concat("fc-helper"),gn||(pn.editable=!1),pn},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(un){this.renderHighlight(un)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(un,gn){var pn=this.computeSelectionSpan(un,gn);return pn&&!this.view.calendar.isSelectionSpanAllowed(pn)?!1:pn},computeSelectionSpan:function(un,gn){var pn=[un.start,un.end,gn.start,gn.end];return pn.sort(He),{start:pn[0].clone(),end:pn[3].clone()}},renderHighlight:function(un){this.renderFill("highlight",this.spanToSegs(un))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(un){var gn=this.elsByFill[un];gn&&(gn.remove(),delete this.elsByFill[un])},renderFillSegEls:function(un,gn){var pn=this,fn=this[un+"SegEl"],mn="",hn=[],vn;if(gn.length){for(vn=0;vn<gn.length;vn++)mn+=this.fillSegHtml(un,gn[vn]);m(mn).each(function(yn,Sn){var En=gn[yn],wn=m(Sn);fn&&(wn=fn.call(pn,En,wn)),wn&&(wn=m(wn),wn.is(pn.fillSegTag)&&(En.el=wn,hn.push(En)))})}return hn},fillSegTag:"div",fillSegHtml:function(un,gn){var pn=this[un+"SegClasses"],fn=this[un+"SegCss"],mn=pn?pn.call(this,gn):[],hn=De(fn?fn.call(this,gn):{});return"<"+this.fillSegTag+(mn.length?" class=\""+mn.join(" ")+"\"":"")+(hn?" style=\""+hn+"\"":"")+" />"},getDayClasses:function(un,gn){var pn=this.view,fn=pn.calendar.getNow(),mn=["fc-"+yt[un.day()]];return 1==pn.intervalDuration.as("months")&&un.month()!=pn.intervalStart.month()&&mn.push("fc-other-month"),un.isSame(fn,"day")?(mn.push("fc-today"),!0!==gn&&mn.push(pn.highlightStateClass)):un<fn?mn.push("fc-past"):mn.push("fc-future"),mn}});Mt.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(un){var gn=[],pn=[],fn;for(fn=0;fn<un.length;fn++)(Ze(un[fn])?gn:pn).push(un[fn]);this.segs=[].concat(this.renderBgEvents(gn),this.renderFgEvents(pn))},renderBgEvents:function(un){var gn=this.eventsToSegs(un);return this.renderBgSegs(gn)||gn},renderFgEvents:function(un){var gn=this.eventsToSegs(un);return this.renderFgSegs(gn)||gn},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(un,gn){var pn=this.view,fn="",mn=[],hn;if(un.length){for(hn=0;hn<un.length;hn++)fn+=this.fgSegHtml(un[hn],gn);m(fn).each(function(vn,yn){var Sn=un[vn],En=pn.resolveEventEl(Sn.event,m(yn));En&&(En.data("fc-seg",Sn),Sn.el=En,mn.push(Sn))})}return mn},fgSegHtml:function(){},renderBgSegs:function(un){return this.renderFill("bgEvent",un)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(un,gn){return this.view.resolveEventEl(un.event,gn)},bgEventSegClasses:function(un){var gn=un.event,pn=gn.source||{};return["fc-bgevent"].concat(gn.className,pn.className||[])},bgEventSegCss:function(un){return{"background-color":this.getSegSkinCss(un)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(un,gn){return this.eventsToSegs(this.buildBusinessHourEvents(un,gn))},buildBusinessHourEvents:function(un,gn){var pn=this.view.calendar,fn;return null==gn&&(gn=pn.options.businessHours),fn=pn.computeBusinessHourEvents(un,gn),!fn.length&&gn&&(fn=[m.extend({},Kt,{start:this.view.end,end:this.view.end,dow:null})]),fn},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(un){this.bindSegHandlerToEl(un,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(un,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(un,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(un,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(un,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(un,"click",this.handleSegClick)},bindSegHandlerToEl:function(un,gn,pn){var fn=this;un.on(gn,this.segSelector,function(mn){var hn=m(this).data("fc-seg");if(hn&&!fn.isDraggingSeg&&!fn.isResizingSeg)return pn.call(fn,hn,mn)})},handleSegClick:function(un,gn){var pn=this.view.publiclyTrigger("eventClick",un.el[0],un.event,gn);!1===pn&&gn.preventDefault()},handleSegMouseover:function(un,gn){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=un,this.view.isEventResizable(un.event)&&un.el.addClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseover",un.el[0],un.event,gn))},handleSegMouseout:function(un,gn){gn=gn||{},this.mousedOverSeg&&(un=un||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(un.event)&&un.el.removeClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseout",un.el[0],un.event,gn))},handleSegMousedown:function(un,gn){var pn=this.startSegResize(un,gn,{distance:5});!pn&&this.view.isEventDraggable(un.event)&&this.buildSegDragListener(un).startInteraction(gn,{distance:5})},handleSegTouchStart:function(un,gn){var pn=this.view,fn=un.event,mn=pn.isEventSelected(fn),hn=pn.isEventDraggable(fn),vn=pn.isEventResizable(fn),yn=!1,Sn,En;mn&&vn&&(yn=this.startSegResize(un,gn)),!yn&&(hn||vn)&&(En=pn.opt("eventLongPressDelay"),null==En&&(En=pn.opt("longPressDelay")),Sn=hn?this.buildSegDragListener(un):this.buildSegSelectListener(un),Sn.startInteraction(gn,{delay:mn?0:En})),this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(un,gn,pn){return!!m(gn.target).is(".fc-resizer")&&(this.buildSegResizeListener(un,m(gn.target).is(".fc-start-resizer")).startInteraction(gn,pn),!0)},buildSegDragListener:function(un){var gn=this,pn=this.view,fn=pn.calendar,mn=un.el,hn=un.event,vn,yn,Sn;if(this.segDragListener)return this.segDragListener;var En=this.segDragListener=new Ot(pn,{scroll:pn.opt("dragScroll"),subjectEl:mn,subjectCenter:!0,interactionStart:function(bn){un.component=gn,vn=!1,yn=new Gt(un.el,{additionalClass:"fc-dragging",parentEl:pn.el,opacity:En.isTouch?null:pn.opt("dragOpacity"),revertDuration:pn.opt("dragRevertDuration"),zIndex:2}),yn.hide(),yn.start(bn)},dragStart:function(bn){En.isTouch&&!pn.isEventSelected(hn)&&pn.selectEvent(hn),vn=!0,gn.handleSegMouseout(un,bn),gn.segDragStart(un,bn),pn.hideEvent(hn)},hitOver:function(bn,Dn,Cn){var Tn;un.hit&&(Cn=un.hit),Sn=gn.computeEventDrop(Cn.component.getHitSpan(Cn),bn.component.getHitSpan(bn),hn),Sn&&!fn.isEventSpanAllowed(gn.eventToSpan(Sn),hn)&&(E(),Sn=null),Sn&&(Tn=pn.renderDrag(Sn,un))?(Tn.addClass("fc-dragging"),!En.isTouch&&gn.applyDragOpacity(Tn),yn.hide()):yn.show(),Dn&&(Sn=null)},hitOut:function(){pn.unrenderDrag(),yn.show(),Sn=null},hitDone:function(){w()},interactionEnd:function(bn){delete un.component,yn.stop(!Sn,function(){vn&&(pn.unrenderDrag(),gn.segDragStop(un,bn)),Sn?pn.reportEventDrop(hn,Sn,gn.largeUnit,mn,bn):pn.showEvent(hn)}),gn.segDragListener=null}});return En},buildSegSelectListener:function(un){var gn=this,pn=this.view,fn=un.event;if(this.segDragListener)return this.segDragListener;var mn=this.segDragListener=new Nt({dragStart:function(){mn.isTouch&&!pn.isEventSelected(fn)&&pn.selectEvent(fn)},interactionEnd:function(){gn.segDragListener=null}});return mn},segDragStart:function(un,gn){this.isDraggingSeg=!0,this.view.publiclyTrigger("eventDragStart",un.el[0],un.event,gn,{})},segDragStop:function(un,gn){this.isDraggingSeg=!1,this.view.publiclyTrigger("eventDragStop",un.el[0],un.event,gn,{})},computeEventDrop:function(un,gn,pn){var fn=this.view.calendar,mn=un.start,hn=gn.start,vn,yn;return mn.hasTime()===hn.hasTime()?(vn=this.diffDates(hn,mn),pn.allDay&&ue(vn)?(yn={start:pn.start.clone(),end:fn.getEventEnd(pn),allDay:!1},fn.normalizeEventTimes(yn)):yn=qe(pn),yn.start.add(vn),yn.end&&yn.end.add(vn)):yn={start:hn.clone(),end:null,allDay:!hn.hasTime()},yn},applyDragOpacity:function(un){var gn=this.view.opt("dragOpacity");null!=gn&&un.css("opacity",gn)},externalDragStart:function(un,gn){var pn=this.view,fn,mn;pn.opt("droppable")&&(fn=m((gn?gn.item:null)||un.target),mn=pn.opt("dropAccept"),(m.isFunction(mn)?mn.call(fn[0],fn):fn.is(mn))&&!this.isDraggingExternal&&this.listenToExternalDrag(fn,un,gn))},listenToExternalDrag:function(un,gn,pn){var fn=this,mn=this.view.calendar,hn=Je(un),yn=fn.externalDragListener=new Ot(this,{interactionStart:function(){fn.isDraggingExternal=!0},hitOver:function(En){vn=fn.computeExternalDrop(En.component.getHitSpan(En),hn),vn&&!mn.isExternalSpanAllowed(fn.eventToSpan(vn),vn,hn.eventProps)&&(E(),vn=null),vn&&fn.renderDrag(vn)},hitOut:function(){vn=null},hitDone:function(){w(),fn.unrenderDrag()},interactionEnd:function(En){vn&&fn.view.reportExternalDrop(hn,vn,un,En,pn),fn.isDraggingExternal=!1,fn.externalDragListener=null}}),vn;yn.startDrag(gn)},computeExternalDrop:function(un,gn){var pn=this.view.calendar,fn={start:pn.applyTimezone(un.start),end:null};return gn.startTime&&!fn.start.hasTime()&&fn.start.time(gn.startTime),gn.duration&&(fn.end=fn.start.clone().add(gn.duration)),fn},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(un,gn){var pn=this,fn=this.view,mn=fn.calendar,hn=un.el,vn=un.event,yn=mn.getEventEnd(vn),wn=this.segResizeListener=new Ot(this,{scroll:fn.opt("dragScroll"),subjectEl:hn,interactionStart:function(){Sn=!1},dragStart:function(Dn){Sn=!0,pn.handleSegMouseout(un,Dn),pn.segResizeStart(un,Dn)},hitOver:function(Dn,Cn,Tn){var Hn=pn.getHitSpan(Tn),xn=pn.getHitSpan(Dn);En=gn?pn.computeEventStartResize(Hn,xn,vn):pn.computeEventEndResize(Hn,xn,vn),En&&(mn.isEventSpanAllowed(pn.eventToSpan(En),vn)?En.start.isSame(vn.start.clone().stripZone())&&En.end.isSame(yn.clone().stripZone())&&(En=null):(E(),En=null)),En&&(fn.hideEvent(vn),pn.renderEventResize(En,un))},hitOut:function(){En=null,fn.showEvent(vn)},hitDone:function(){pn.unrenderEventResize(),w()},interactionEnd:function(Dn){Sn&&pn.segResizeStop(un,Dn),En?fn.reportEventResize(vn,En,pn.largeUnit,hn,Dn):fn.showEvent(vn),pn.segResizeListener=null}}),Sn,En;return wn},segResizeStart:function(un,gn){this.isResizingSeg=!0,this.view.publiclyTrigger("eventResizeStart",un.el[0],un.event,gn,{})},segResizeStop:function(un,gn){this.isResizingSeg=!1,this.view.publiclyTrigger("eventResizeStop",un.el[0],un.event,gn,{})},computeEventStartResize:function(un,gn,pn){return this.computeEventResize("start",un,gn,pn)},computeEventEndResize:function(un,gn,pn){return this.computeEventResize("end",un,gn,pn)},computeEventResize:function(un,gn,pn,fn){var mn=this.view.calendar,hn=this.diffDates(pn[un],gn[un]),vn,yn;return vn={start:fn.start.clone(),end:mn.getEventEnd(fn),allDay:fn.allDay},vn.allDay&&ue(hn)&&(vn.allDay=!1,mn.normalizeEventTimes(vn)),vn[un].add(hn),vn.start.isBefore(vn.end)||(yn=this.minResizeDuration||(fn.allDay?mn.defaultAllDayEventDuration:mn.defaultTimedEventDuration),"start"==un?vn.start=vn.end.clone().subtract(yn):vn.end=vn.start.clone().add(yn)),vn},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(un,gn,pn){return null==gn&&(gn=this.eventTimeFormat),null==pn&&(pn=this.displayEventEnd),this.displayEventTime&&un.start.hasTime()?pn&&un.end?this.view.formatRange(un,gn):un.start.format(gn):""},getSegClasses:function(un,gn,pn){var fn=this.view,mn=["fc-event",un.isStart?"fc-start":"fc-not-start",un.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(un));return gn&&mn.push("fc-draggable"),pn&&mn.push("fc-resizable"),fn.isEventSelected(un.event)&&mn.push("fc-selected"),mn},getSegCustomClasses:function(un){var gn=un.event;return[].concat(gn.className,gn.source?gn.source.className:[])},getSegSkinCss:function(un){return{"background-color":this.getSegBackgroundColor(un),"border-color":this.getSegBorderColor(un),color:this.getSegTextColor(un)}},getSegBackgroundColor:function(un){return un.event.backgroundColor||un.event.color||this.getSegDefaultBackgroundColor(un)},getSegDefaultBackgroundColor:function(un){var gn=un.event.source||{};return gn.backgroundColor||gn.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(un){return un.event.borderColor||un.event.color||this.getSegDefaultBorderColor(un)},getSegDefaultBorderColor:function(un){var gn=un.event.source||{};return gn.borderColor||gn.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(un){return un.event.textColor||this.getSegDefaultTextColor(un)},getSegDefaultTextColor:function(un){var gn=un.event.source||{};return gn.textColor||this.view.opt("eventTextColor")},eventToSegs:function(un){return this.eventsToSegs([un])},eventToSpan:function(un){return this.eventToSpans(un)[0]},eventToSpans:function(un){var gn=this.eventToRange(un);return this.eventRangeToSpans(gn,un)},eventsToSegs:function(un,gn){var pn=this,fn=Ke(un),mn=[];return m.each(fn,function(hn,vn){var yn=[],Sn;for(Sn=0;Sn<vn.length;Sn++)yn.push(pn.eventToRange(vn[Sn]));if(Qe(vn[0]))for(yn=pn.invertRanges(yn),Sn=0;Sn<yn.length;Sn++)mn.push.apply(mn,pn.eventRangeToSegs(yn[Sn],vn[0],gn));else for(Sn=0;Sn<yn.length;Sn++)mn.push.apply(mn,pn.eventRangeToSegs(yn[Sn],vn[Sn],gn))}),mn},eventToRange:function(un){var gn=this.view.calendar,pn=un.start.clone().stripZone(),fn=(un.end?un.end.clone():gn.getDefaultEventEnd(null==un.allDay?!un.start.hasTime():un.allDay,un.start)).stripZone();return gn.localizeMoment(pn),gn.localizeMoment(fn),{start:pn,end:fn}},eventRangeToSegs:function(un,gn,pn){var fn=this.eventRangeToSpans(un,gn),mn=[],hn;for(hn=0;hn<fn.length;hn++)mn.push.apply(mn,this.eventSpanToSegs(fn[hn],gn,pn));return mn},eventRangeToSpans:function(un){return[m.extend({},un)]},eventSpanToSegs:function(un,gn,pn){var fn=pn?pn(un):this.spanToSegs(un),mn,hn;for(mn=0;mn<fn.length;mn++)hn=fn[mn],hn.event=gn,hn.eventStartMS=+un.start,hn.eventDurationMS=un.end-un.start;return fn},invertRanges:function(un){var gn=this.view,pn=gn.start.clone(),fn=gn.end.clone(),mn=[],hn=pn,vn,yn;for(un.sort($e),vn=0;vn<un.length;vn++)yn=un[vn],yn.start>hn&&mn.push({start:hn,end:yn.start}),hn=yn.end;return hn<fn&&mn.push({start:hn,end:fn}),mn},sortEventSegs:function(un){un.sort(Re(this,"compareEventSegs"))},compareEventSegs:function(un,gn){return un.eventStartMS-gn.eventStartMS||gn.eventDurationMS-un.eventDurationMS||gn.event.allDay-un.event.allDay||J(un.event,gn.event,this.view.eventOrderSpecs)}}),ft.pluckEventDateProps=qe,ft.isBgEvent=Ze,ft.dataAttrPrefix="";var At=ft.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var un=this.view,gn=this.start.clone(),pn=-1,fn=[],mn=[],hn,vn,yn;gn.isBefore(this.end);)un.isHiddenDay(gn)?fn.push(pn+0.5):(pn++,fn.push(pn),mn.push(gn.clone())),gn.add(1,"days");if(this.breakOnWeeks){for(vn=mn[0].day(),hn=1;hn<mn.length&&mn[hn].day()!=vn;hn++);yn=_Mathceil(mn.length/hn)}else yn=1,hn=mn.length;this.dayDates=mn,this.dayIndices=fn,this.daysPerRow=hn,this.rowCnt=yn,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(un,gn){return this.dayDates[this.getCellDayIndex(un,gn)].clone()},getCellRange:function(un,gn){var pn=this.getCellDate(un,gn),fn=pn.clone().add(1,"days");return{start:pn,end:fn}},getCellDayIndex:function(un,gn){return un*this.daysPerRow+this.getColDayIndex(gn)},getColDayIndex:function(un){return this.isRTL?this.colCnt-1-un:un},getDateDayIndex:function(un){var gn=this.dayIndices,pn=un.diff(this.start,"days");return 0>pn?gn[0]-1:pn>=gn.length?gn[gn.length-1]+1:gn[pn]},computeColHeadFormat:function(){return 1<this.rowCnt||10<this.colCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(un){var gn=this.daysPerRow,pn=this.view.computeDayRange(un),fn=this.getDateDayIndex(pn.start),mn=this.getDateDayIndex(pn.end.clone().subtract(1,"days")),hn=[],vn,yn,Sn,En,wn;for(vn=0;vn<this.rowCnt;vn++)yn=vn*gn,Sn=yn+gn-1,En=_Mathmax(fn,yn),wn=_Mathmin(mn,Sn),En=_Mathceil(En),wn=_Mathfloor(wn),En<=wn&&hn.push({row:vn,firstRowDayIndex:En-yn,lastRowDayIndex:wn-yn,isStart:En===fn,isEnd:wn===mn});return hn},sliceRangeByDay:function(un){var gn=this.daysPerRow,pn=this.view.computeDayRange(un),fn=this.getDateDayIndex(pn.start),mn=this.getDateDayIndex(pn.end.clone().subtract(1,"days")),hn=[],vn,yn,Sn,En,wn,bn;for(vn=0;vn<this.rowCnt;vn++)for(yn=vn*gn,Sn=yn+gn-1,En=yn;En<=Sn;En++)wn=_Mathmax(fn,En),bn=_Mathmin(mn,En),wn=_Mathceil(wn),bn=_Mathfloor(bn),wn<=bn&&hn.push({row:vn,firstRowDayIndex:wn-yn,lastRowDayIndex:bn-yn,isStart:wn===fn,isEnd:bn===mn});return hn},renderHeadHtml:function(){var un=this.view;return"<div class=\"fc-row "+un.widgetHeaderClass+"\"><table><thead>"+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var un=[],gn,pn;for(gn=0;gn<this.colCnt;gn++)pn=this.getCellDate(0,gn),un.push(this.renderHeadDateCellHtml(pn));return un.join("")},renderHeadDateCellHtml:function(un,gn,pn){var fn=this.view,mn=["fc-day-header",fn.widgetHeaderClass];return 1===this.rowCnt?mn=mn.concat(this.getDayClasses(un,!0)):mn.push("fc-"+yt[un.day()]),"<th class=\""+mn.join(" ")+"\""+(1===this.rowCnt?" data-date=\""+un.format("YYYY-MM-DD")+"\"":"")+(1<gn?" colspan=\""+gn+"\"":"")+(pn?" "+pn:"")+">"+fn.buildGotoAnchorHtml({date:un,forceOff:1<this.rowCnt||1===this.colCnt},we(un.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(un){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(un))+this.renderBgCellsHtml(un)+(this.isRTL?this.renderBgIntroHtml(un):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(un){var gn=[],pn,fn;for(pn=0;pn<this.colCnt;pn++)fn=this.getCellDate(un,pn),gn.push(this.renderBgCellHtml(fn));return gn.join("")},renderBgCellHtml:function(un,gn){var pn=this.view,fn=this.getDayClasses(un);return fn.unshift("fc-day",pn.widgetContentClass),"<td class=\""+fn.join(" ")+"\" data-date=\""+un.format("YYYY-MM-DD")+"\""+(gn?" "+gn:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(un){var gn=this.renderIntroHtml();gn&&(this.isRTL?un.append(gn):un.prepend(gn))}},Vt=ft.DayGrid=Mt.extend(At,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(un){var gn=this.view,pn=this.rowCnt,fn=this.colCnt,mn="",hn,vn;for(hn=0;hn<pn;hn++)mn+=this.renderDayRowHtml(hn,un);for(this.el.html(mn),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new Ft({els:this.rowEls,isVertical:!0}),this.colCoordCache=new Ft({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),hn=0;hn<pn;hn++)for(vn=0;vn<fn;vn++)gn.publiclyTrigger("dayRender",null,this.getCellDate(hn,vn),this.getCellEl(hn,vn))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var un=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",un,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(un,gn){var pn=this.view,fn=["fc-row","fc-week",pn.widgetContentClass];return gn&&fn.push("fc-rigid"),"<div class=\""+fn.join(" ")+"\"><div class=\"fc-bg\"><table>"+this.renderBgTrHtml(un)+"</table></div><div class=\"fc-content-skeleton\"><table>"+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(un)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(un){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(un))+this.renderNumberCellsHtml(un)+(this.isRTL?this.renderNumberIntroHtml(un):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(un){var gn=[],pn,fn;for(pn=0;pn<this.colCnt;pn++)fn=this.getCellDate(un,pn),gn.push(this.renderNumberCellHtml(fn));return gn.join("")},renderNumberCellHtml:function(un){var gn="",pn,fn;return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?(pn=this.getDayClasses(un),pn.unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&("ISO"===un._locale._fullCalendar_weekCalc?fn=1:fn=un._locale.firstDayOfWeek()),gn+="<td class=\""+pn.join(" ")+"\" data-date=\""+un.format()+"\">",this.view.cellWeekNumbersVisible&&un.day()==fn&&(gn+=this.view.buildGotoAnchorHtml({date:un,type:"week"},{"class":"fc-week-number"},un.format("w"))),this.view.dayNumbersVisible&&(gn+=this.view.buildGotoAnchorHtml(un,{"class":"fc-day-number"},un.date())),gn+="</td>",gn):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(un){var gn=this.sliceRangeByRow(un),pn,fn;for(pn=0;pn<gn.length;pn++)fn=gn[pn],this.isRTL?(fn.leftCol=this.daysPerRow-1-fn.lastRowDayIndex,fn.rightCol=this.daysPerRow-1-fn.firstRowDayIndex):(fn.leftCol=fn.firstRowDayIndex,fn.rightCol=fn.lastRowDayIndex);return gn},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(un,gn){if(this.colCoordCache.isLeftInBounds(un)&&this.rowCoordCache.isTopInBounds(gn)){var pn=this.colCoordCache.getHorizontalIndex(un),fn=this.rowCoordCache.getVerticalIndex(gn);if(null!=fn&&null!=pn)return this.getCellHit(fn,pn)}},getHitSpan:function(un){return this.getCellRange(un.row,un.col)},getHitEl:function(un){return this.getCellEl(un.row,un.col)},getCellHit:function(un,gn){return{row:un,col:gn,component:this,left:this.colCoordCache.getLeftOffset(gn),right:this.colCoordCache.getRightOffset(gn),top:this.rowCoordCache.getTopOffset(un),bottom:this.rowCoordCache.getBottomOffset(un)}},getCellEl:function(un,gn){return this.cellEls.eq(un*this.colCnt+gn)},renderDrag:function(un,gn){if(this.renderHighlight(this.eventToSpan(un)),gn&&gn.component!==this)return this.renderEventLocationHelper(un,gn)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(un,gn){return this.renderHighlight(this.eventToSpan(un)),this.renderEventLocationHelper(un,gn)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(un,gn){var pn=[],fn=this.eventToSegs(un),mn;return fn=this.renderFgSegEls(fn),mn=this.renderSegRows(fn),this.rowEls.each(function(hn,vn){var yn=m(vn),Sn=m("<div class=\"fc-helper-skeleton\"><table/></div>"),En;En=gn&&gn.row===hn?gn.el.position().top:yn.find(".fc-content-skeleton tbody").position().top,Sn.css("top",En).find("table").append(mn[hn].tbodyEl),yn.append(Sn),pn.push(Sn[0])}),this.helperEls=m(pn)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(un,gn,pn){var fn=[],mn,hn,vn;for(gn=this.renderFillSegEls(un,gn),mn=0;mn<gn.length;mn++)hn=gn[mn],vn=this.renderFillRow(un,hn,pn),this.rowEls.eq(hn.row).append(vn),fn.push(vn[0]);return this.elsByFill[un]=m(fn),gn},renderFillRow:function(un,gn,pn){var fn=this.colCnt,mn=gn.leftCol,hn=gn.rightCol+1,vn,yn;return pn=pn||un.toLowerCase(),vn=m("<div class=\"fc-"+pn+"-skeleton\"><table><tr/></table></div>"),yn=vn.find("tr"),0<mn&&yn.append("<td colspan=\""+mn+"\"/>"),yn.append(gn.el.attr("colspan",hn-mn)),hn<fn&&yn.append("<td colspan=\""+(fn-hn)+"\"/>"),this.bookendCells(yn),vn}});Vt.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),Mt.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return Mt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(un){var gn=m.grep(un,function(pn){return pn.event.allDay});return Mt.prototype.renderBgSegs.call(this,gn)},renderFgSegs:function(un){var gn;return un=this.renderFgSegEls(un),gn=this.rowStructs=this.renderSegRows(un),this.rowEls.each(function(pn,fn){m(fn).find(".fc-content-skeleton > table").append(gn[pn].tbodyEl)}),un},unrenderFgSegs:function(){for(var un=this.rowStructs||[],gn;gn=un.pop();)gn.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(un){var gn=[],pn,fn;for(pn=this.groupSegRows(un),fn=0;fn<pn.length;fn++)gn.push(this.renderSegRow(fn,pn[fn]));return gn},fgSegHtml:function(un,gn){var pn=this.view,fn=un.event,mn=pn.isEventDraggable(fn),hn=!gn&&fn.allDay&&un.isStart&&pn.isEventResizableFromStart(fn),vn=!gn&&fn.allDay&&un.isEnd&&pn.isEventResizableFromEnd(fn),yn=this.getSegClasses(un,mn,hn||vn),Sn=De(this.getSegSkinCss(un)),En="",wn,bn;return yn.unshift("fc-day-grid-event","fc-h-event"),un.isStart&&(wn=this.getEventTimeText(fn),wn&&(En="<span class=\"fc-time\">"+we(wn)+"</span>")),bn="<span class=\"fc-title\">"+(we(fn.title||"")||"&nbsp;")+"</span>","<a class=\""+yn.join(" ")+"\""+(fn.url?" href=\""+we(fn.url)+"\"":"")+(Sn?" style=\""+Sn+"\"":"")+"><div class=\"fc-content\">"+(this.isRTL?bn+" "+En:En+" "+bn)+"</div>"+(hn?"<div class=\"fc-resizer fc-start-resizer\" />":"")+(vn?"<div class=\"fc-resizer fc-end-resizer\" />":"")+"</a>"},renderSegRow:function(un,gn){function pn(Rn){for(;Dn<Rn;)xn=(En[wn-1]||[])[Dn],xn?xn.attr("rowspan",parseInt(xn.attr("rowspan")||1,10)+1):(xn=m("<td/>"),Cn.append(xn)),Sn[wn][Dn]=xn,En[wn][Dn]=xn,Dn++}var fn=this.colCnt,mn=this.buildSegLevels(gn),hn=_Mathmax(1,mn.length),vn=m("<tbody/>"),yn=[],Sn=[],En=[],wn,bn,Dn,Cn,Tn,Hn,xn;for(wn=0;wn<hn;wn++){if(bn=mn[wn],Dn=0,Cn=m("<tr/>"),yn.push([]),Sn.push([]),En.push([]),bn)for(Tn=0;Tn<bn.length;Tn++){for(Hn=bn[Tn],pn(Hn.leftCol),xn=m("<td class=\"fc-event-container\"/>").append(Hn.el),Hn.leftCol==Hn.rightCol?En[wn][Dn]=xn:xn.attr("colspan",Hn.rightCol-Hn.leftCol+1);Dn<=Hn.rightCol;)Sn[wn][Dn]=xn,yn[wn][Dn]=Hn,Dn++;Cn.append(xn)}pn(fn),this.bookendCells(Cn),vn.append(Cn)}return{row:un,tbodyEl:vn,cellMatrix:Sn,segMatrix:yn,segLevels:mn,segs:gn}},buildSegLevels:function(un){var gn=[],pn,fn,mn;for(this.sortEventSegs(un),pn=0;pn<un.length;pn++){for(fn=un[pn],mn=0;mn<gn.length&&!!et(fn,gn[mn]);mn++);fn.level=mn,(gn[mn]||(gn[mn]=[])).push(fn)}for(mn=0;mn<gn.length;mn++)gn[mn].sort(tt);return gn},groupSegRows:function(un){var gn=[],pn;for(pn=0;pn<this.rowCnt;pn++)gn.push([]);for(pn=0;pn<un.length;pn++)gn[un[pn].row].push(un[pn]);return gn}}),Vt.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(un){var gn=this.rowStructs||[],pn,fn;for(pn=0;pn<gn.length;pn++)this.unlimitRow(pn),fn=!!un&&("number"==typeof un?un:this.computeRowLevelLimit(pn)),!1!==fn&&this.limitRow(pn,fn)},computeRowLevelLimit:function(un){function gn(Sn,En){yn=_Mathmax(yn,m(En).outerHeight())}var pn=this.rowEls.eq(un),fn=pn.height(),mn=this.rowStructs[un].tbodyEl.children(),hn,vn,yn;for(hn=0;hn<mn.length;hn++)if(vn=mn.eq(hn).removeClass("fc-limited"),yn=0,vn.find("> td > :first-child").each(gn),vn.position().top+yn>fn)return hn;return!1},limitRow:function(un,gn){function pn(zn){for(;vn<zn;)Dn=fn.getCellSegs(un,vn,gn),Dn.length&&(Hn=Sn[gn-1][vn],Bn=fn.renderMoreLink(un,vn,Dn),Ln=m("<div/>").append(Bn),Hn.append(Ln),hn.push(Ln[0])),vn++}var fn=this,mn=this.rowStructs[un],hn=[],vn=0,yn,Sn,En,wn,bn,Dn,Cn,Tn,Hn,xn,Rn,In,kn,Ln,Bn;if(gn&&gn<mn.segLevels.length){for(yn=mn.segLevels[gn-1],Sn=mn.cellMatrix,En=mn.tbodyEl.children().slice(gn).addClass("fc-limited").get(),wn=0;wn<yn.length;wn++){for(bn=yn[wn],pn(bn.leftCol),Tn=[],Cn=0;vn<=bn.rightCol;)Dn=this.getCellSegs(un,vn,gn),Tn.push(Dn),Cn+=Dn.length,vn++;if(Cn){for(Hn=Sn[gn-1][bn.leftCol],xn=Hn.attr("rowspan")||1,Rn=[],In=0;In<Tn.length;In++)kn=m("<td class=\"fc-more-cell\"/>").attr("rowspan",xn),Dn=Tn[In],Bn=this.renderMoreLink(un,bn.leftCol+In,[bn].concat(Dn)),Ln=m("<div/>").append(Bn),kn.append(Ln),Rn.push(kn[0]),hn.push(kn[0]);Hn.addClass("fc-limited").after(m(Rn)),En.push(Hn[0])}}pn(this.colCnt),mn.moreEls=m(hn),mn.limitedEls=m(En)}},unlimitRow:function(un){var gn=this.rowStructs[un];gn.moreEls&&(gn.moreEls.remove(),gn.moreEls=null),gn.limitedEls&&(gn.limitedEls.removeClass("fc-limited"),gn.limitedEls=null)},renderMoreLink:function(un,gn,pn){var fn=this,mn=this.view;return m("<a class=\"fc-more\"/>").text(this.getMoreLinkText(pn.length)).on("click",function(hn){var vn=mn.opt("eventLimitClick"),yn=fn.getCellDate(un,gn),Sn=m(this),En=fn.getCellEl(un,gn),wn=fn.getCellSegs(un,gn),bn=fn.resliceDaySegs(wn,yn),Dn=fn.resliceDaySegs(pn,yn);"function"==typeof vn&&(vn=mn.publiclyTrigger("eventLimitClick",null,{date:yn,dayEl:En,moreEl:Sn,segs:bn,hiddenSegs:Dn},hn)),"popover"===vn?fn.showSegPopover(un,gn,Sn,bn):"string"==typeof vn&&mn.calendar.zoomTo(yn,vn)})},showSegPopover:function(un,gn,pn,fn){var mn=this,hn=this.view,vn=pn.parent(),yn,Sn;yn=1==this.rowCnt?hn.el:this.rowEls.eq(un),Sn={className:"fc-more-popover",content:this.renderSegPopoverContent(un,gn,fn),parentEl:this.view.el,top:yn.offset().top,autoHide:!0,viewportConstrain:hn.opt("popoverViewportConstrain"),hide:function(){if(mn.popoverSegs)for(var bn=0,wn;bn<mn.popoverSegs.length;++bn)wn=mn.popoverSegs[bn],hn.publiclyTrigger("eventDestroy",wn.event,wn.event,wn.el);mn.segPopover.removeElement(),mn.segPopover=null,mn.popoverSegs=null}},this.isRTL?Sn.right=vn.offset().left+vn.outerWidth()+1:Sn.left=vn.offset().left-1,this.segPopover=new zt(Sn),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(un,gn,pn){var fn=this.view,mn=fn.opt("theme"),hn=this.getCellDate(un,gn).format(fn.opt("dayPopoverFormat")),vn=m("<div class=\"fc-header "+fn.widgetHeaderClass+"\"><span class=\"fc-close "+(mn?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+"\"></span><span class=\"fc-title\">"+we(hn)+"</span><div class=\"fc-clear\"/></div><div class=\"fc-body "+fn.widgetContentClass+"\"><div class=\"fc-event-container\"></div></div>"),yn=vn.find(".fc-event-container"),Sn;for(pn=this.renderFgSegEls(pn,!0),this.popoverSegs=pn,Sn=0;Sn<pn.length;Sn++)this.prepareHits(),pn[Sn].hit=this.getCellHit(un,gn),this.releaseHits(),yn.append(pn[Sn].el);return vn},resliceDaySegs:function(un,gn){var pn=m.map(un,function(vn){return vn.event}),fn=gn.clone(),mn=fn.clone().add(1,"days"),hn={start:fn,end:mn};return un=this.eventsToSegs(pn,function(vn){var yn=ne(vn,hn);return yn?[yn]:[]}),this.sortEventSegs(un),un},getMoreLinkText:function(un){var gn=this.view.opt("eventLimitText");return"function"==typeof gn?gn(un):"+"+un+" "+gn},getCellSegs:function(un,gn,pn){for(var fn=this.rowStructs[un].segMatrix,mn=pn||0,hn=[],vn;mn<fn.length;)vn=fn[mn][gn],vn&&hn.push(vn),mn++;return hn}});var Pt=ft.TimeGrid=Mt.extend(At,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){Mt.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new Ft({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new Ft({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return"<div class=\"fc-bg\"><table>"+this.renderBgTrHtml(0)+"</table></div><div class=\"fc-slats\"><table>"+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var un=this.view,gn=this.isRTL,pn="",fn=h.duration(+this.minTime),mn,hn,vn;fn<this.maxTime;)mn=this.start.clone().time(fn),hn=xe(de(fn,this.labelInterval)),vn="<td class=\"fc-axis fc-time "+un.widgetContentClass+"\" "+un.axisStyleAttr()+">"+(hn?"<span>"+we(mn.format(this.labelFormat))+"</span>":"")+"</td>",pn+="<tr data-time=\""+mn.format("HH:mm:ss")+"\""+(hn?"":" class=\"fc-minor\"")+">"+(gn?"":vn)+"<td class=\""+un.widgetContentClass+"\"/>"+(gn?vn:"")+"</tr>",fn.add(this.slotDuration);return pn},processOptions:function(){var un=this.view,gn=un.opt("slotDuration"),pn=un.opt("snapDuration"),fn;gn=h.duration(gn),pn=pn?h.duration(pn):gn,this.slotDuration=gn,this.snapDuration=pn,this.snapsPerSlot=gn/pn,this.minResizeDuration=pn,this.minTime=h.duration(un.opt("minTime")),this.maxTime=h.duration(un.opt("maxTime")),fn=un.opt("slotLabelFormat"),m.isArray(fn)&&(fn=fn[fn.length-1]),this.labelFormat=fn||un.opt("smallTimeFormat"),fn=un.opt("slotLabelInterval"),this.labelInterval=fn?h.duration(fn):this.computeLabelInterval(gn)},computeLabelInterval:function(un){var gn,pn,fn;for(gn=ln.length-1;0<=gn;gn--)if(pn=h.duration(ln[gn]),fn=de(pn,un),xe(fn)&&1<fn)return pn;return h.duration(un)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(un,gn){var pn=this.snapsPerSlot,fn=this.colCoordCache,mn=this.slatCoordCache;if(fn.isLeftInBounds(un)&&mn.isTopInBounds(gn)){var hn=fn.getHorizontalIndex(un),vn=mn.getVerticalIndex(gn);if(null!=hn&&null!=vn){var yn=mn.getTopOffset(vn),Sn=mn.getHeight(vn),wn=_Mathfloor((gn-yn)/Sn*pn);return{col:hn,snap:vn*pn+wn,component:this,left:fn.getLeftOffset(hn),right:fn.getRightOffset(hn),top:yn+wn/pn*Sn,bottom:yn+(wn+1)/pn*Sn}}}},getHitSpan:function(un){var gn=this.getCellDate(0,un.col),pn=this.computeSnapTime(un.snap),fn;return gn.time(pn),fn=gn.clone().add(this.snapDuration),{start:gn,end:fn}},getHitEl:function(un){return this.colEls.eq(un.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(un){return h.duration(this.minTime+this.snapDuration*un)},spanToSegs:function(un){var gn=this.sliceRangeByTimes(un),pn;for(pn=0;pn<gn.length;pn++)gn[pn].col=this.isRTL?this.daysPerRow-1-gn[pn].dayIndex:gn[pn].dayIndex;return gn},sliceRangeByTimes:function(un){var gn=[],pn,fn,mn,hn;for(fn=0;fn<this.daysPerRow;fn++)mn=this.dayDates[fn].clone(),hn={start:mn.clone().time(this.minTime),end:mn.clone().time(this.maxTime)},pn=ne(un,hn),pn&&(pn.dayIndex=fn,gn.push(pn));return gn},updateSize:function(un){this.slatCoordCache.build(),un&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(un,gn){return this.computeTimeTop(h.duration(un-gn.clone().stripTime()))},computeTimeTop:function(un){var gn=this.slatEls.length,pn=(un-this.minTime)/this.slotDuration,fn,mn;return pn=_Mathmax(0,pn),pn=_Mathmin(gn,pn),fn=_Mathfloor(pn),fn=_Mathmin(fn,gn-1),mn=pn-fn,this.slatCoordCache.getTopPosition(fn)+this.slatCoordCache.getHeight(fn)*mn},renderDrag:function(un,gn){return gn?this.renderEventLocationHelper(un,gn):void this.renderHighlight(this.eventToSpan(un))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(un,gn){return this.renderEventLocationHelper(un,gn)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(un,gn){return this.renderHelperSegs(this.eventToSegs(un),gn)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(un){var gn=this.spanToSegs({start:un,end:un}),pn=this.computeDateTop(un,un),fn=[],mn;for(mn=0;mn<gn.length;mn++)fn.push(m("<div class=\"fc-now-indicator fc-now-indicator-line\"></div>").css("top",pn).appendTo(this.colContainerEls.eq(gn[mn].col))[0]);0<gn.length&&fn.push(m("<div class=\"fc-now-indicator fc-now-indicator-arrow\"></div>").css("top",pn).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=m(fn)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(un){this.view.opt("selectHelper")?this.renderEventLocationHelper(un):this.renderHighlight(un)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(un){this.renderHighlightSegs(this.spanToSegs(un))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});Pt.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var un="",gn,pn;for(gn=0;gn<this.colCnt;gn++)un+="<td><div class=\"fc-content-col\"><div class=\"fc-event-container fc-helper-container\"></div><div class=\"fc-event-container\"></div><div class=\"fc-highlight-container\"></div><div class=\"fc-bgevent-container\"></div><div class=\"fc-business-container\"></div></div></td>";pn=m("<div class=\"fc-content-skeleton\"><table><tr>"+un+"</tr></table></div>"),this.colContainerEls=pn.find(".fc-content-col"),this.helperContainerEls=pn.find(".fc-helper-container"),this.fgContainerEls=pn.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=pn.find(".fc-bgevent-container"),this.highlightContainerEls=pn.find(".fc-highlight-container"),this.businessContainerEls=pn.find(".fc-business-container"),this.bookendCells(pn.find("tr")),this.el.append(pn)},renderFgSegs:function(un){return un=this.renderFgSegsIntoContainers(un,this.fgContainerEls),this.fgSegs=un,un},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(un,gn){var pn=[],fn,mn,hn;for(un=this.renderFgSegsIntoContainers(un,this.helperContainerEls),fn=0;fn<un.length;fn++)mn=un[fn],gn&&gn.col===mn.col&&(hn=gn.el,mn.el.css({left:hn.css("left"),right:hn.css("right"),"margin-left":hn.css("margin-left"),"margin-right":hn.css("margin-right")})),pn.push(mn.el[0]);return this.helperSegs=un,m(pn)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(un){return un=this.renderFillSegEls("bgEvent",un),this.updateSegVerticals(un),this.attachSegsByCol(this.groupSegsByCol(un),this.bgContainerEls),this.bgSegs=un,un},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(un){un=this.renderFillSegEls("highlight",un),this.updateSegVerticals(un),this.attachSegsByCol(this.groupSegsByCol(un),this.highlightContainerEls),this.highlightSegs=un},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(un){un=this.renderFillSegEls("businessHours",un),this.updateSegVerticals(un),this.attachSegsByCol(this.groupSegsByCol(un),this.businessContainerEls),this.businessSegs=un},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(un){var gn=[],pn;for(pn=0;pn<this.colCnt;pn++)gn.push([]);for(pn=0;pn<un.length;pn++)gn[un[pn].col].push(un[pn]);return gn},attachSegsByCol:function(un,gn){var pn,fn,mn;for(pn=0;pn<this.colCnt;pn++)for(fn=un[pn],mn=0;mn<fn.length;mn++)gn.eq(pn).append(fn[mn].el)},unrenderNamedSegs:function(un){var gn=this[un],pn;if(gn){for(pn=0;pn<gn.length;pn++)gn[pn].el.remove();this[un]=null}},renderFgSegsIntoContainers:function(un,gn){var pn,fn;for(un=this.renderFgSegEls(un),pn=this.groupSegsByCol(un),fn=0;fn<this.colCnt;fn++)this.updateFgSegCoords(pn[fn]);return this.attachSegsByCol(pn,gn),un},fgSegHtml:function(un,gn){var pn=this.view,fn=un.event,mn=pn.isEventDraggable(fn),hn=!gn&&un.isStart&&pn.isEventResizableFromStart(fn),vn=!gn&&un.isEnd&&pn.isEventResizableFromEnd(fn),yn=this.getSegClasses(un,mn,hn||vn),Sn=De(this.getSegSkinCss(un)),En,wn,bn;return yn.unshift("fc-time-grid-event","fc-v-event"),pn.isMultiDayEvent(fn)?(un.isStart||un.isEnd)&&(En=this.getEventTimeText(un),wn=this.getEventTimeText(un,"LT"),bn=this.getEventTimeText(un,null,!1)):(En=this.getEventTimeText(fn),wn=this.getEventTimeText(fn,"LT"),bn=this.getEventTimeText(fn,null,!1)),"<a class=\""+yn.join(" ")+"\""+(fn.url?" href=\""+we(fn.url)+"\"":"")+(Sn?" style=\""+Sn+"\"":"")+"><div class=\"fc-content\">"+(En?"<div class=\"fc-time\" data-start=\""+we(bn)+"\" data-full=\""+we(wn)+"\"><span>"+we(En)+"</span></div>":"")+(fn.title?"<div class=\"fc-title\">"+we(fn.title)+"</div>":"")+"</div><div class=\"fc-bg\"/>"+(vn?"<div class=\"fc-resizer fc-end-resizer\" />":"")+"</a>"},updateSegVerticals:function(un){this.computeSegVerticals(un),this.assignSegVerticals(un)},computeSegVerticals:function(un){var gn,pn;for(gn=0;gn<un.length;gn++)pn=un[gn],pn.top=this.computeDateTop(pn.start,pn.start),pn.bottom=this.computeDateTop(pn.end,pn.start)},assignSegVerticals:function(un){var gn,pn;for(gn=0;gn<un.length;gn++)pn=un[gn],pn.el.css(this.generateSegVerticalCss(pn))},generateSegVerticalCss:function(un){return{top:un.top,bottom:-un.bottom}},updateFgSegCoords:function(un){this.computeSegVerticals(un),this.computeFgSegHorizontals(un),this.assignSegVerticals(un),this.assignFgSegHorizontals(un)},computeFgSegHorizontals:function(un){var gn,pn,fn;if(this.sortEventSegs(un),gn=nt(un),rt(gn),pn=gn[0]){for(fn=0;fn<pn.length;fn++)it(pn[fn]);for(fn=0;fn<pn.length;fn++)this.computeFgSegForwardBack(pn[fn],0,0)}},computeFgSegForwardBack:function(un,gn,pn){var fn=un.forwardSegs,mn;if(void 0===un.forwardCoord)for(fn.length?(this.sortForwardSegs(fn),this.computeFgSegForwardBack(fn[0],gn+1,pn),un.forwardCoord=fn[0].backwardCoord):un.forwardCoord=1,un.backwardCoord=un.forwardCoord-(un.forwardCoord-pn)/(gn+1),mn=0;mn<fn.length;mn++)this.computeFgSegForwardBack(fn[mn],0,un.forwardCoord)},sortForwardSegs:function(un){un.sort(Re(this,"compareForwardSegs"))},compareForwardSegs:function(un,gn){return gn.forwardPressure-un.forwardPressure||(un.backwardCoord||0)-(gn.backwardCoord||0)||this.compareEventSegs(un,gn)},assignFgSegHorizontals:function(un){var gn,pn;for(gn=0;gn<un.length;gn++)pn=un[gn],pn.el.css(this.generateFgSegHorizontalCss(pn)),30>pn.bottom-pn.top&&pn.el.addClass("fc-short")},generateFgSegHorizontalCss:function(un){var gn=this.view.opt("slotEventOverlap"),pn=un.backwardCoord,fn=un.forwardCoord,mn=this.generateSegVerticalCss(un),hn,vn;return gn&&(fn=_Mathmin(1,pn+2*(fn-pn))),this.isRTL?(hn=1-fn,vn=pn):(hn=pn,vn=1-fn),mn.zIndex=un.level+1,mn.left=100*hn+"%",mn.right=100*vn+"%",gn&&un.forwardPressure&&(mn[this.isRTL?"marginLeft":"marginRight"]=20),mn}});var _t=ft.View=Ve.extend(kt,Lt,{type:null,name:null,title:null,calendar:null,options:null,el:null,isDateSet:!1,isDateRendered:!1,dateRenderQueue:null,isEventsBound:!1,isEventsSet:!1,isEventsRendered:!1,eventRenderQueue:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(un,gn,pn,fn){this.calendar=un,this.type=this.name=gn,this.options=pn,this.intervalDuration=fn||h.duration(1,"day"),this.nextDayThreshold=h.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=K(this.opt("eventOrder")),this.dateRenderQueue=new We,this.eventRenderQueue=new We(this.opt("eventRenderWait")),this.initialize()},initialize:function(){},opt:function(un){return this.options[un]},publiclyTrigger:function(un,gn){var pn=this.calendar;return pn.publiclyTrigger.apply(pn,[un,gn||this].concat(Array.prototype.slice.call(arguments,2),[this]))},rejectOn:function(un,gn){var pn=this;return new Ye(function(fn,mn){function hn(){pn.off(un,mn)}pn.one(un,mn),gn.then(function(vn){hn(),fn(vn)},function(){hn(),mn()})})},setRange:function(un){m.extend(this,un),this.updateTitle()},computeRange:function(un){var gn=le(this.intervalDuration),pn=un.clone().startOf(gn),fn=pn.clone().add(this.intervalDuration),mn,hn;return /year|month|week|day/.test(gn)?(pn.stripTime(),fn.stripTime()):(!pn.hasTime()&&(pn=this.calendar.time(0)),!fn.hasTime()&&(fn=this.calendar.time(0))),mn=pn.clone(),mn=this.skipHiddenDays(mn),hn=fn.clone(),hn=this.skipHiddenDays(hn,-1,!0),{intervalUnit:gn,intervalStart:pn,intervalEnd:fn,start:mn,end:hn}},computePrevDate:function(un){return this.massageCurrentDate(un.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(un){return this.massageCurrentDate(un.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(un,gn){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(un)&&(un=this.skipHiddenDays(un,gn),un.startOf("day")),un},updateTitle:function(){this.title=this.computeTitle(),this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(un,gn,pn){var fn=un.end;return fn.hasTime()||(fn=fn.clone().subtract(1)),Ne(un.start,fn,gn,pn,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||we(this.opt("allDayText"))},buildGotoAnchorHtml:function(un,gn,pn){var fn,mn,hn,vn;return m.isPlainObject(un)?(fn=un.date,mn=un.type,hn=un.forceOff):fn=un,fn=ft.moment(fn),vn={date:fn.format("YYYY-MM-DD"),type:mn||"day"},"string"==typeof gn&&(pn=gn,gn=null),gn=gn?" "+Ce(gn):"",pn=pn||"",!hn&&this.opt("navLinks")?"<a"+gn+" data-goto=\""+we(JSON.stringify(vn))+"\">"+pn+"</a>":"<span"+gn+">"+pn+"</span>"},setElement:function(un){this.el=un,this.bindGlobalHandlers(),this.renderSkeleton()},removeElement:function(){this.unsetDate(),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(un){var gn=this.isDateSet;this.isDateSet=!0,this.handleDate(un,gn),this.trigger(gn?"dateReset":"dateSet",un)},unsetDate:function(){this.isDateSet&&(this.isDateSet=!1,this.handleDateUnset(),this.trigger("dateUnset"))},handleDate:function(un){var pn=this;this.unbindEvents(),this.requestDateRender(un).then(function(){pn.bindEvents()})},handleDateUnset:function(){this.unbindEvents(),this.requestDateUnrender()},requestDateRender:function(un){var gn=this;return this.dateRenderQueue.add(function(){return gn.executeDateRender(un)})},requestDateUnrender:function(){var un=this;return this.dateRenderQueue.add(function(){return un.executeDateUnrender()})},executeDateRender:function(un){var gn=this;return un?this.captureInitialScroll():this.captureScroll(),this.freezeHeight(),this.executeDateUnrender().then(function(){un&&gn.setRange(gn.computeRange(un)),gn.render&&gn.render(),gn.renderDates(),gn.updateSize(),gn.renderBusinessHours(),gn.startNowIndicator(),gn.thawHeight(),gn.releaseScroll(),gn.isDateRendered=!0,gn.onDateRender(),gn.trigger("dateRender")})},executeDateUnrender:function(){var un=this;return un.isDateRendered?this.requestEventsUnrender().then(function(){un.unselect(),un.stopNowIndicator(),un.triggerUnrender(),un.unrenderBusinessHours(),un.unrenderDates(),un.destroy&&un.destroy(),un.isDateRendered=!1,un.trigger("dateUnrender")}):Ye.resolve()},onDateRender:function(){this.triggerRender()},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.publiclyTrigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(m(document),"mousedown",this.handleDocumentMousedown),this.listenTo(m(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(m(document))},initThemingProps:function(){var un=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=un+"-widget-header",this.widgetContentClass=un+"-widget-content",this.highlightStateClass=un+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var un=this,gn,pn,fn;this.opt("nowIndicator")&&(gn=this.getNowIndicatorUnit(),gn&&(pn=Re(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,fn=this.initialNowDate.clone().startOf(gn).add(1,gn)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){un.nowIndicatorTimeoutID=null,pn(),fn=+h.duration(1,gn),fn=_Mathmax(100,fn),un.nowIndicatorIntervalID=setInterval(pn,fn)},fn)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(un){un&&this.captureScroll(),this.updateHeight(un),this.updateWidth(un),this.updateNowIndicator(),un&&this.releaseScroll()},updateWidth:function(){},updateHeight:function(){var gn=this.calendar;this.setHeight(gn.getSuggestedViewHeight(),gn.isHeightAuto())},setHeight:function(){},capturedScroll:null,capturedScrollDepth:0,captureScroll:function(){return!this.capturedScrollDepth++&&(this.capturedScroll=this.isDateRendered?this.queryScroll():{},!0)},captureInitialScroll:function(un){this.captureScroll()&&(this.capturedScroll.isInitial=!0,un?m.extend(this.capturedScroll,un):this.capturedScroll.isComputed=!0)},releaseScroll:function(){var un=this.capturedScroll,gn=this.discardScroll();un.isComputed&&(gn?m.extend(un,this.computeInitialScroll()):un=null),un&&(un.isInitial?this.hardSetScroll(un):this.setScroll(un))},discardScroll:function(){return! --this.capturedScrollDepth&&(this.capturedScroll=null,!0)},computeInitialScroll:function(){return{}},queryScroll:function(){return{}},hardSetScroll:function(un){var gn=this,pn=function(){gn.setScroll(un)};pn(),setTimeout(pn,0)},setScroll:function(){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},bindEvents:function(){var un=this;this.isEventsBound||(this.isEventsBound=!0,this.rejectOn("eventsUnbind",this.requestEvents()).then(function(gn){un.listenTo(un.calendar,"eventsReset",un.setEvents),un.setEvents(gn)}))},unbindEvents:function(){this.isEventsBound&&(this.isEventsBound=!1,this.stopListeningTo(this.calendar,"eventsReset"),this.unsetEvents(),this.trigger("eventsUnbind"))},setEvents:function(un){var gn=this.isEventSet;this.isEventsSet=!0,this.handleEvents(un,gn),this.trigger(gn?"eventsReset":"eventsSet",un)},unsetEvents:function(){this.isEventsSet&&(this.isEventsSet=!1,this.handleEventsUnset(),this.trigger("eventsUnset"))},whenEventsSet:function(){var un=this;return this.isEventsSet?Ye.resolve(this.getCurrentEvents()):new Ye(function(gn){un.one("eventsSet",gn)})},handleEvents:function(un){this.requestEventsRender(un)},handleEventsUnset:function(){this.requestEventsUnrender()},requestEventsRender:function(un){var gn=this;return this.eventRenderQueue.add(function(){return gn.executeEventsRender(un)})},requestEventsUnrender:function(){var un=this;return this.isEventsRendered?this.eventRenderQueue.addQuickly(function(){return un.executeEventsUnrender()}):Ye.resolve()},requestCurrentEventsRender:function(){return this.isEventsSet?void this.requestEventsRender(this.getCurrentEvents()):Ye.reject()},executeEventsRender:function(un){var gn=this;return this.captureScroll(),this.freezeHeight(),this.executeEventsUnrender().then(function(){gn.renderEvents(un),gn.thawHeight(),gn.releaseScroll(),gn.isEventsRendered=!0,gn.onEventsRender(),gn.trigger("eventsRender")})},executeEventsUnrender:function(){return this.isEventsRendered&&(this.onBeforeEventsUnrender(),this.captureScroll(),this.freezeHeight(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.thawHeight(),this.releaseScroll(),this.isEventsRendered=!1,this.trigger("eventsUnrender")),Ye.resolve()},onEventsRender:function(){this.renderedEventSegEach(function(un){this.publiclyTrigger("eventAfterRender",un.event,un.event,un.el)}),this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.renderedEventSegEach(function(un){this.publiclyTrigger("eventDestroy",un.event,un.event,un.el)})},renderEvents:function(){},unrenderEvents:function(){},requestEvents:function(){return this.calendar.requestEvents(this.start,this.end)},getCurrentEvents:function(){return this.calendar.getPrunedEventCache()},resolveEventEl:function(un,gn){var pn=this.publiclyTrigger("eventRender",un,un,gn);return!1===pn?gn=null:pn&&!0!==pn&&(gn=m(pn)),gn},showEvent:function(un){this.renderedEventSegEach(function(gn){gn.el.css("visibility","")},un)},hideEvent:function(un){this.renderedEventSegEach(function(gn){gn.el.css("visibility","hidden")},un)},renderedEventSegEach:function(un,gn){var pn=this.getEventSegs(),fn;for(fn=0;fn<pn.length;fn++)(!gn||pn[fn].event._id===gn._id)&&pn[fn].el&&un.call(this,pn[fn])},getEventSegs:function(){return[]},isEventDraggable:function(un){return this.isEventStartEditable(un)},isEventStartEditable:function(un){return Ee(un.startEditable,(un.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(un))},isEventGenerallyEditable:function(un){return Ee(un.editable,(un.source||{}).editable,this.opt("editable"))},reportEventDrop:function(un,gn,pn,fn,mn){var hn=this.calendar,vn=hn.mutateEvent(un,gn,pn);this.triggerEventDrop(un,vn.dateDelta,function(){vn.undo(),hn.reportEventChange()},fn,mn),hn.reportEventChange()},triggerEventDrop:function(un,gn,pn,fn,mn){this.publiclyTrigger("eventDrop",fn[0],un,gn,pn,mn,{})},reportExternalDrop:function(un,gn,pn,fn,mn){var hn=un.eventProps,vn,yn;hn&&(vn=m.extend({},hn,gn),yn=this.calendar.renderEvent(vn,un.stick)[0]),this.triggerExternalDrop(yn,gn,pn,fn,mn)},triggerExternalDrop:function(un,gn,pn,fn,mn){this.publiclyTrigger("drop",pn[0],gn.start,fn,mn),un&&this.publiclyTrigger("eventReceive",null,un)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(un){return this.opt("eventResizableFromStart")&&this.isEventResizable(un)},isEventResizableFromEnd:function(un){return this.isEventResizable(un)},isEventResizable:function(un){var gn=un.source||{};return Ee(un.durationEditable,gn.durationEditable,this.opt("eventDurationEditable"),un.editable,gn.editable,this.opt("editable"))},reportEventResize:function(un,gn,pn,fn,mn){var hn=this.calendar,vn=hn.mutateEvent(un,gn,pn);this.triggerEventResize(un,vn.durationDelta,function(){vn.undo(),hn.reportEventChange()},fn,mn),hn.reportEventChange()},triggerEventResize:function(un,gn,pn,fn,mn){this.publiclyTrigger("eventResize",fn[0],un,gn,pn,mn,{})},select:function(un,gn){this.unselect(gn),this.renderSelection(un),this.reportSelection(un,gn)},renderSelection:function(){},reportSelection:function(un,gn){this.isSelected=!0,this.triggerSelect(un,gn)},triggerSelect:function(un,gn){this.publiclyTrigger("select",null,this.calendar.applyTimezone(un.start),this.calendar.applyTimezone(un.end),gn)},unselect:function(un){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",null,un))},unrenderSelection:function(){},selectEvent:function(un){this.selectedEvent&&this.selectedEvent===un||(this.unselectEvent(),this.renderedEventSegEach(function(gn){gn.el.addClass("fc-selected")},un),this.selectedEvent=un)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(un){un.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(un){return this.selectedEvent&&this.selectedEvent._id===un._id},handleDocumentMousedown:function(un){G(un)&&this.processUnselect(un)},processUnselect:function(un){this.processRangeUnselect(un),this.processEventUnselect(un)},processRangeUnselect:function(un){var gn;this.isSelected&&this.opt("unselectAuto")&&(gn=this.opt("unselectCancel"),(!gn||!m(un.target).closest(gn).length)&&this.unselect(un))},processEventUnselect:function(un){this.selectedEvent&&!m(un.target).closest(".fc-selected").length&&this.unselectEvent()},triggerDayClick:function(un,gn,pn){this.publiclyTrigger("dayClick",gn,this.calendar.applyTimezone(un.start),pn)},initHiddenDays:function(){var un=this.opt("hiddenDays")||[],gn=[],pn=0,fn;for(!1===this.opt("weekends")&&un.push(0,6),fn=0;7>fn;fn++)(gn[fn]=-1!==m.inArray(fn,un))||pn++;if(!pn)throw"invalid hiddenDays";this.isHiddenDayHash=gn},isHiddenDay:function(un){return h.isMoment(un)&&(un=un.day()),this.isHiddenDayHash[un]},skipHiddenDays:function(un,gn,pn){var fn=un.clone();for(gn=gn||1;this.isHiddenDayHash[(fn.day()+(pn?gn:0)+7)%7];)fn.add(gn,"days");return fn},computeDayRange:function(un){var gn=un.start.clone().stripTime(),pn=un.end,fn=null,mn;return pn&&(fn=pn.clone().stripTime(),mn=+pn.time(),mn&&mn>=this.nextDayThreshold&&fn.add(1,"days")),(!pn||fn<=gn)&&(fn=gn.clone().add(1,"days")),{start:gn,end:fn}},isMultiDayEvent:function(un){var gn=this.computeDayRange(un);return 1<gn.end.diff(gn.start,"days")}}),Yt=ft.Scroller=Ve.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(un){un=un||{},this.overflowX=un.overflowX||un.overflow||"auto",this.overflowY=un.overflowY||un.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=m("<div class=\"fc-scroller\"></div>")},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(un){var gn=this.overflowX,pn=this.overflowY;un=un||this.getScrollbarWidths(),"auto"===gn&&(gn=un.top||un.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===pn&&(pn=un.left||un.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":gn,"overflow-y":pn})},setHeight:function(un){this.scrollEl.height(un)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(un){this.scrollEl.scrollTop(un)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return z(this.scrollEl)}});ot.prototype.proxyCall=function(cn){var un=Array.prototype.slice.call(arguments,1),gn=[];return this.items.forEach(function(pn){gn.push(pn[cn].apply(pn,un))}),gn};var Wt=ft.Calendar=Ve.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,footer:null,loadingLevel:0,constructor:function(cn,un){function gn(gr){gr._locale=Kn}function fn(){cn.addClass("fc"),cn.on("click.fc","a[data-goto]",function(pr){var fr=m(this),mr=fr.data("goto"),hr=Xn.moment(mr.date),vr=mr.type,yr=ar.opt("navLink"+Te(vr)+"Click");"function"==typeof yr?yr(hr,pr):("string"==typeof yr&&(vr=yr),Pn(hr,vr))}),Xn.bindOption("theme",function(pr){ir=pr?"ui":"fc",cn.toggleClass("ui-widget",pr),cn.toggleClass("fc-unthemed",!pr)}),Xn.bindOptions(["isRTL","locale"],function(pr){cn.toggleClass("fc-ltr",!pr),cn.toggleClass("fc-rtl",pr)}),rr=m("<div class='fc-view-container'/>").prependTo(cn);var gr=Hn();Jn=new ot(gr),er=Xn.header=gr[0],nr=Xn.footer=gr[1],In(),kn(),vn(Xn.options.defaultView),Xn.options.handleWindowResize&&(sr=Ie(Cn,Xn.options.windowResizeDelay),m(window).resize(sr))}function hn(){return cn.is(":visible")}function vn(gr,pr){dr++;var fr=ar&&gr&&ar.type!==gr;fr&&(Yn(),yn()),!ar&&gr&&(ar=Xn.view=lr[gr]||(lr[gr]=Xn.instantiateView(gr)),ar.setElement(m("<div class='fc-view fc-"+gr+"-view' />").appendTo(rr)),Jn.proxyCall("activateButton",gr)),ar&&(cr=ar.massageCurrentDate(cr),(!ar.isDateSet||!(cr>=ar.intervalStart&&cr<ar.intervalEnd))&&hn()&&(pr&&ar.captureInitialScroll(pr),ar.setDate(cr,pr),pr&&ar.releaseScroll(),Ln())),fr&&Wn(),dr--}function yn(){Jn.proxyCall("deactivateButton",ar.type),ar.removeElement(),ar=Xn.view=null}function Sn(){dr++,Yn();var gr=ar.type,pr=ar.queryScroll();yn(),wn(),vn(gr,pr),Wn(),dr--}function En(gr){if(hn())return gr&&bn(),dr++,ar.updateSize(!0),dr--,!0}function wn(){hn()&&bn()}function bn(){var gr=Xn.options.contentHeight,pr=Xn.options.height;or="number"==typeof gr?gr:"function"==typeof gr?gr():"number"==typeof pr?pr-Dn():"function"==typeof pr?pr()-Dn():"parent"===pr?cn.parent().height()-Dn():_Mathround(rr.width()/_Mathmax(Xn.options.aspectRatio,.5))}function Dn(){return Jn.items.reduce(function(gr,pr){var fr=pr.el?pr.el.outerHeight(!0):0;return gr+fr},0)}function Cn(gr){!dr&&gr.target===window&&ar.start&&En(!0)&&ar.publiclyTrigger("windowResize",$n)}function Hn(){return[new st(Xn,xn()),new st(Xn,Rn())]}function xn(){return{extraClasses:"fc-header-toolbar",layout:Xn.options.header}}function Rn(){return{extraClasses:"fc-footer-toolbar",layout:Xn.options.footer}}function In(){er.setToolbarOptions(xn()),er.render(),er.el&&cn.prepend(er.el)}function kn(){nr.setToolbarOptions(Rn()),nr.render(),nr.el&&cn.append(nr.el)}function Ln(){var gr=Xn.getNow();gr>=ar.intervalStart&&gr<ar.intervalEnd?Jn.proxyCall("disableButton","today"):Jn.proxyCall("enableButton","today")}function Pn(gr,pr){var fr;pr=pr||"day",fr=Xn.getViewSpec(pr)||Xn.getUnitViewSpec(pr),cr=gr.clone(),vn(fr?fr.type:null)}function Yn(){ur++||rr.css({width:"100%",height:rr.height(),overflow:"hidden"})}function Wn(){--ur||rr.css({width:"",height:"",overflow:""})}function Zn(gr){var pr=0,fr;for(fr in gr)Xn.dynamicOverrides[fr]=gr[fr];for(fr in Xn.viewSpecCache={},Xn.populateOptionsHash(),gr)Xn.triggerOptionHandlers(fr),pr++;if(1==pr){if("height"===fr||"contentHeight"===fr||"aspectRatio"===fr)return void En(!0);if("defaultDate"===fr)return;if("businessHours"===fr)return void(ar&&(ar.unrenderBusinessHours(),ar.renderBusinessHours()));if("timezone"===fr)return Xn.rezoneArrayEventSources(),void Xn.refetchEvents()}In(),kn(),lr={},Sn()}var Xn=this;Xn.render=function(){rr?hn()&&(wn(),vn()):fn()},Xn.destroy=function(){ar&&ar.removeElement(),Jn.proxyCall("removeElement"),rr.remove(),cn.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),cn.off(".fc"),sr&&m(window).unbind("resize",sr)},Xn.rerenderEvents=function(){hn()&&Xn.reportEventChange()},Xn.changeView=vn,Xn.select=function(){ar.select(Xn.buildSelectSpan.apply(Xn,arguments))},Xn.unselect=function(){ar&&ar.unselect()},Xn.prev=function(){cr=ar.computePrevDate(cr),vn()},Xn.next=function(){cr=ar.computeNextDate(cr),vn()},Xn.prevYear=function(){cr.add(-1,"years"),vn()},Xn.nextYear=function(){cr.add(1,"years"),vn()},Xn.today=function(){cr=Xn.getNow(),vn()},Xn.gotoDate=function(gr){cr=Xn.moment(gr).stripZone(),vn()},Xn.incrementDate=function(gr){cr.add(h.duration(gr)),vn()},Xn.zoomTo=Pn,Xn.getDate=function(){return Xn.applyTimezone(cr)},Xn.getCalendar=function(){return Xn},Xn.getView=function(){return ar},Xn.option=function(gr,pr){var fr;if("string"==typeof gr){if(void 0===pr)return Xn.options[gr];fr={},fr[gr]=pr,Zn(fr)}else"object"===("undefined"==typeof gr?"undefined":p(gr))&&Zn(gr)},Xn.publiclyTrigger=function(gr,pr){var fr=Array.prototype.slice.call(arguments,2);if(pr=pr||$n,this.triggerWith(gr,pr,fr),Xn.options[gr])return Xn.options[gr].apply(pr,fr)},Xn.dynamicOverrides={},Xn.viewSpecCache={},Xn.optionHandlers={},Xn.overrides=m.extend({},un),Xn.populateOptionsHash();var Kn;Xn.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(gr,pr,fr,mr,hr,vr,yr){if("iso"===yr&&(yr="ISO"),Kn=me(ut(gr)),pr&&(Kn._months=pr),fr&&(Kn._monthsShort=fr),mr&&(Kn._weekdays=mr),hr&&(Kn._weekdaysShort=hr),null==vr&&"ISO"===yr&&(vr=1),null!=vr){var Sr=me(Kn._week);Sr.dow=vr,Kn._week=Sr}("ISO"===yr||"local"===yr||"function"==typeof yr)&&(Kn._fullCalendar_weekCalc=yr),cr&&gn(cr)}),Xn.defaultAllDayEventDuration=h.duration(Xn.options.defaultAllDayEventDuration),Xn.defaultTimedEventDuration=h.duration(Xn.options.defaultTimedEventDuration),Xn.moment=function(){var gr;return"local"===Xn.options.timezone?(gr=ft.moment.apply(null,arguments),gr.hasTime()&&gr.local()):"UTC"===Xn.options.timezone?gr=ft.moment.utc.apply(null,arguments):gr=ft.moment.parseZone.apply(null,arguments),gn(gr),gr},Xn.localizeMoment=gn,Xn.getIsAmbigTimezone=function(){return"local"!==Xn.options.timezone&&"UTC"!==Xn.options.timezone},Xn.applyTimezone=function(gr){if(!gr.hasTime())return gr.clone();var pr=Xn.moment(gr.toArray()),fr=gr.time()-pr.time(),mr;return fr&&(mr=pr.clone().add(fr),0==gr.time()-mr.time()&&(pr=mr)),pr},Xn.getNow=function(){var gr=Xn.options.now;return"function"==typeof gr&&(gr=gr()),Xn.moment(gr).stripZone()},Xn.getEventEnd=function(gr){return gr.end?gr.end.clone():Xn.getDefaultEventEnd(gr.allDay,gr.start)},Xn.getDefaultEventEnd=function(gr,pr){var fr=pr.clone();return gr?fr.stripTime().add(Xn.defaultAllDayEventDuration):fr.add(Xn.defaultTimedEventDuration),Xn.getIsAmbigTimezone()&&fr.stripZone(),fr},Xn.humanizeDuration=function(gr){return gr.locale(Xn.options.locale).humanize()},gt.call(Xn);var $n=cn[0],lr={},dr=0,Jn,er,nr,rr,ir,ar,or,sr,cr;cr=null==Xn.options.defaultDate?Xn.getNow():Xn.moment(Xn.options.defaultDate).stripZone(),Xn.getSuggestedViewHeight=function(){return void 0==or&&wn(),or},Xn.isHeightAuto=function(){return"auto"===Xn.options.contentHeight||"auto"===Xn.options.height},Xn.setToolbarsTitle=function(gr){Jn.proxyCall("updateTitle",gr)},Xn.freezeContentHeight=Yn,Xn.thawContentHeight=Wn;var ur=0;Xn.initialize()},initialize:function(){},populateOptionsHash:function(){var un,gn,pn,fn;un=Ee(this.dynamicOverrides.locale,this.overrides.locale),gn=Ut[un],gn||(un=Wt.defaults.locale,gn=Ut[un]||{}),pn=Ee(this.dynamicOverrides.isRTL,this.overrides.isRTL,gn.isRTL,Wt.defaults.isRTL),fn=pn?Wt.rtlDefaults:{},this.dirDefaults=fn,this.localeDefaults=gn,this.options=v([Wt.defaults,fn,gn,this.overrides,this.dynamicOverrides]),ct(this.options)},getViewSpec:function(un){var gn=this.viewSpecCache;return gn[un]||(gn[un]=this.buildViewSpec(un))},getUnitViewSpec:function(un){var gn,pn,fn;if(-1!=m.inArray(un,St))for(gn=this.header.getViewsWithButtons(),m.each(ft.views,function(mn){gn.push(mn)}),pn=0;pn<gn.length;pn++)if(fn=this.getViewSpec(gn[pn]),fn&&fn.singleUnit==un)return fn},buildViewSpec:function(un){for(var gn=this.overrides.views||{},pn=[],fn=[],mn=[],hn=un,vn,yn,Sn,En;hn;)vn=mt[hn],yn=gn[hn],hn=null,"function"==typeof vn&&(vn={"class":vn}),vn&&(pn.unshift(vn),fn.unshift(vn.defaults||{}),Sn=Sn||vn.duration,hn=hn||vn.type),yn&&(mn.unshift(yn),Sn=Sn||yn.duration,hn=hn||yn.type);return(vn=fe(pn),vn.type=un,!!vn["class"])&&(Sn&&(Sn=h.duration(Sn),Sn.valueOf()&&(vn.duration=Sn,En=le(Sn),1===Sn.as(En)&&(vn.singleUnit=En,mn.unshift(gn[En]||{})))),vn.defaults=v(fn),vn.overrides=v(mn),this.buildViewSpecOptions(vn),this.buildViewSpecButtonText(vn,un),vn)},buildViewSpecOptions:function(un){un.options=v([Wt.defaults,un.defaults,this.dirDefaults,this.localeDefaults,this.overrides,un.overrides,this.dynamicOverrides]),ct(un.options)},buildViewSpecButtonText:function(un,gn){function pn(fn){var mn=fn.buttonText||{};return mn[gn]||(un.buttonTextKey?mn[un.buttonTextKey]:null)||(un.singleUnit?mn[un.singleUnit]:null)}un.buttonTextOverride=pn(this.dynamicOverrides)||pn(this.overrides)||un.overrides.buttonText,un.buttonTextDefault=pn(this.localeDefaults)||pn(this.dirDefaults)||un.defaults.buttonText||pn(Wt.defaults)||(un.duration?this.humanizeDuration(un.duration):null)||gn},instantiateView:function(un){var gn=this.getViewSpec(un);return new gn["class"](this,un,gn.options,gn.duration)},isValidViewType:function(un){return!!this.getViewSpec(un)},pushLoading:function(){this.loadingLevel++||this.publiclyTrigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.publiclyTrigger("loading",null,!1,this.view)},buildSelectSpan:function(un,gn){var pn=this.moment(un).stripZone(),fn;return fn=gn?this.moment(gn).stripZone():pn.hasTime()?pn.clone().add(this.defaultTimedEventDuration):pn.clone().add(this.defaultAllDayEventDuration),{start:pn,end:fn}}});Wt.mixin(kt),Wt.mixin({optionHandlers:null,bindOption:function(un,gn){this.bindOptions([un],gn)},bindOptions:function(un,gn){var pn={func:gn,names:un},fn;for(fn=0;fn<un.length;fn++)this.registerOptionHandlerObj(un[fn],pn);this.triggerOptionHandlerObj(pn)},registerOptionHandlerObj:function(un,gn){(this.optionHandlers[un]||(this.optionHandlers[un]=[])).push(gn)},triggerOptionHandlers:function(un){var gn=this.optionHandlers[un]||[],pn;for(pn=0;pn<gn.length;pn++)this.triggerOptionHandlerObj(gn[pn])},triggerOptionHandlerObj:function(un){var gn=un.names,pn=[],fn;for(fn=0;fn<gn.length;fn++)pn.push(this.options[gn[fn]]);un.func.apply(this,pn)}}),Wt.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},Wt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Wt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ut=ft.locales={};ft.datepickerLocale=function(cn,un,gn){var pn=Ut[cn]||(Ut[cn]={});pn.isRTL=gn.isRTL,pn.weekNumberTitle=gn.weekHeader,m.each(jt,function(fn,mn){pn[fn]=mn(gn)}),m.datepicker&&(m.datepicker.regional[un]=m.datepicker.regional[cn]=gn,m.datepicker.regional.en=m.datepicker.regional[""],m.datepicker.setDefaults(gn))},ft.locale=function(cn,un){var gn,pn;gn=Ut[cn]||(Ut[cn]={}),un&&(gn=Ut[cn]=v([gn,un])),pn=ut(cn),m.each(qt,function(fn,mn){null==gn[fn]&&(gn[fn]=mn(pn,gn))}),Wt.defaults.locale=cn};var jt={buttonText:function(un){return{prev:be(un.prevText),next:be(un.nextText),today:be(un.currentText)}},monthYearFormat:function(un){return un.showMonthAfterYear?"YYYY["+un.yearSuffix+"] MMMM":"MMMM YYYY["+un.yearSuffix+"]"}},qt={dayOfMonthFormat:function(un,gn){var pn=un.longDateFormat("l");return pn=pn.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),gn.isRTL?pn+=" ddd":pn="ddd "+pn,pn},mediumTimeFormat:function(un){return un.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(un){return un.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(un){return un.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(un){return un.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(un){return un.longDateFormat("LT").replace(/\s*a$/i,"")}},Zt={smallDayDateFormat:function(un){return un.isRTL?"D dd":"dd D"},weekFormat:function(un){return un.isRTL?"w[ "+un.weekNumberTitle+"]":"["+un.weekNumberTitle+" ]w"},smallWeekFormat:function(un){return un.isRTL?"w["+un.weekNumberTitle+"]":"["+un.weekNumberTitle+"]w"}};ft.locale("en",Wt.englishDefaults),ft.sourceNormalizers=[],ft.sourceFetchers=[];var Qt={dataType:"json",cache:!1},Xt=1;Wt.prototype.normalizeEvent=function(){},Wt.prototype.spanContainsSpan=function(cn,un){var gn=cn.start.clone().stripZone(),pn=this.getEventEnd(cn).stripZone();return un.start>=gn&&un.end<=pn},Wt.prototype.getPeerEvents=function(cn,un){var gn=this.getEventCache(),pn=[],fn,mn;for(fn=0;fn<gn.length;fn++)mn=gn[fn],un&&un._id===mn._id||pn.push(mn);return pn},Wt.prototype.isEventSpanAllowed=function(cn,un){var gn=un.source||{},pn=Ee(un.constraint,gn.constraint,this.options.eventConstraint),fn=Ee(un.overlap,gn.overlap,this.options.eventOverlap);return this.isSpanAllowed(cn,pn,fn,un)&&(!this.options.eventAllow||!1!==this.options.eventAllow(cn,un))},Wt.prototype.isExternalSpanAllowed=function(cn,un,gn){var pn,fn;return gn&&(pn=m.extend({},gn,un),fn=this.expandEvent(this.buildEventFromInput(pn))[0]),fn?this.isEventSpanAllowed(cn,fn):this.isSelectionSpanAllowed(cn)},Wt.prototype.isSelectionSpanAllowed=function(cn){return this.isSpanAllowed(cn,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||!1!==this.options.selectAllow(cn))},Wt.prototype.isSpanAllowed=function(cn,un,gn,pn){var fn,mn,hn,vn,yn,Sn;if(null!=un&&(fn=this.constraintToEvents(un),fn)){for(mn=!1,vn=0;vn<fn.length;vn++)if(this.spanContainsSpan(fn[vn],cn)){mn=!0;break}if(!mn)return!1}for(hn=this.getPeerEvents(cn,pn),vn=0;vn<hn.length;vn++)if(yn=hn[vn],this.eventIntersectsRange(yn,cn)){if(!1===gn)return!1;if("function"==typeof gn&&!gn(yn,pn))return!1;if(pn){if(Sn=Ee(yn.overlap,(yn.source||{}).overlap),!1===Sn)return!1;if("function"==typeof Sn&&!Sn(pn,yn))return!1}}return!0},Wt.prototype.constraintToEvents=function(cn){return"businessHours"===cn?this.getCurrentBusinessHourEvents():"object"===("undefined"==typeof cn?"undefined":p(cn))?null==cn.start?null:this.expandEvent(this.buildEventFromInput(cn)):this.clientEvents(cn)},Wt.prototype.eventIntersectsRange=function(cn,un){var gn=cn.start.clone().stripZone(),pn=this.getEventEnd(cn).stripZone();return un.start<pn&&un.end>gn};var Kt={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};Wt.prototype.getCurrentBusinessHourEvents=function(cn){return this.computeBusinessHourEvents(cn,this.options.businessHours)},Wt.prototype.computeBusinessHourEvents=function(cn,un){return!0===un?this.expandBusinessHourEvents(cn,[{}]):m.isPlainObject(un)?this.expandBusinessHourEvents(cn,[un]):m.isArray(un)?this.expandBusinessHourEvents(cn,un,!0):[]},Wt.prototype.expandBusinessHourEvents=function(cn,un,gn){var pn=this.getView(),fn=[],mn,hn;for(mn=0;mn<un.length;mn++)(hn=un[mn],!gn||hn.dow)&&(hn=m.extend({},Kt,hn),cn&&(hn.start=null,hn.end=null),fn.push.apply(fn,this.expandEvent(this.buildEventFromInput(hn),pn.start,pn.end)));return fn};var $t=ft.BasicView=_t.extend({scroller:null,dayGridClass:Vt,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new Yt({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var un=this.dayGridClass.extend(Jt);return new un(this)},setRange:function(un){_t.prototype.setRange.call(this,un),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(un)},computeRange:function(un){var gn=_t.prototype.computeRange.call(this,un);return /year|month/.test(gn.intervalUnit)&&(gn.start.startOf("week"),gn.start=this.skipHiddenDays(gn.start),gn.end.weekday()&&(gn.end.add(1,"week").startOf("week"),gn.end=this.skipHiddenDays(gn.end,-1,!0))),gn},renderDates:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var un=this.scroller.el.addClass("fc-day-grid-container"),gn=m("<div class=\"fc-day-grid\" />").appendTo(un);this.el.find(".fc-body > tr > td").append(un),this.dayGrid.setElement(gn),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return"<table><thead class=\"fc-head\"><tr><td class=\"fc-head-container "+this.widgetHeaderClass+"\"></td></tr></thead><tbody class=\"fc-body\"><tr><td class=\""+this.widgetContentClass+"\"></td></tr></tbody></table>"},weekNumberStyleAttr:function(){return null===this.weekNumberWidth?"":"style=\"width:"+this.weekNumberWidth+"px\""},hasRigidRows:function(){var un=this.opt("eventLimit");return un&&"number"!=typeof un},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=H(this.el.find(".fc-week-number")))},setHeight:function(un,gn){var pn=this.opt("eventLimit"),fn,mn;this.scroller.clear(),S(this.headRowEl),this.dayGrid.removeSegPopover(),pn&&"number"==typeof pn&&this.dayGrid.limitRows(pn),fn=this.computeScrollerHeight(un),this.setGridHeight(fn,gn),pn&&"number"!=typeof pn&&this.dayGrid.limitRows(pn),gn||(this.scroller.setHeight(fn),mn=this.scroller.getScrollbarWidths(),(mn.left||mn.right)&&(y(this.headRowEl,mn),fn=this.computeScrollerHeight(un),this.scroller.setHeight(fn)),this.scroller.lockOverflow(mn))},computeScrollerHeight:function(un){return un-x(this.el,this.scroller.el)},setGridHeight:function(un,gn){gn?C(this.dayGrid.rowEls):D(this.dayGrid.rowEls,un,!0)},computeInitialScroll:function(){return{top:0}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(un){this.scroller.setScrollTop(un.top)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(un,gn){return this.dayGrid.queryHit(un,gn)},getHitSpan:function(un){return this.dayGrid.getHitSpan(un)},getHitEl:function(un){return this.dayGrid.getHitEl(un)},renderEvents:function(un){this.dayGrid.renderEvents(un),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(un,gn){return this.dayGrid.renderDrag(un,gn)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(un){this.dayGrid.renderSelection(un)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Jt={renderHeadIntroHtml:function(){var un=this.view;return un.colWeekNumbersVisible?"<th class=\"fc-week-number "+un.widgetHeaderClass+"\" "+un.weekNumberStyleAttr()+"><span>"+we(un.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(un){var gn=this.view,pn=this.getCellDate(un,0);return gn.colWeekNumbersVisible?"<td class=\"fc-week-number\" "+gn.weekNumberStyleAttr()+">"+gn.buildGotoAnchorHtml({date:pn,type:"week",forceOff:1===this.colCnt},pn.format("w"))+"</td>":""},renderBgIntroHtml:function(){var un=this.view;return un.colWeekNumbersVisible?"<td class=\"fc-week-number "+un.widgetContentClass+"\" "+un.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var un=this.view;return un.colWeekNumbersVisible?"<td class=\"fc-week-number\" "+un.weekNumberStyleAttr()+"></td>":""}},en=ft.MonthView=$t.extend({computeRange:function(un){var gn=$t.prototype.computeRange.call(this,un),pn;return this.isFixedWeeks()&&(pn=_Mathceil(gn.end.diff(gn.start,"weeks",!0)),gn.end.add(6-pn,"weeks")),gn},setGridHeight:function(un,gn){gn&&(un*=this.rowCnt/6),D(this.dayGrid.rowEls,un,!gn)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});mt.basic={"class":$t},mt.basicDay={type:"basic",duration:{days:1}},mt.basicWeek={type:"basic",duration:{weeks:1}},mt.month={"class":en,duration:{months:1},defaults:{fixedWeekCount:!0}};var tn=ft.AgendaView=_t.extend({scroller:null,timeGridClass:Pt,timeGrid:null,dayGridClass:Vt,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new Yt({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var un=this.timeGridClass.extend(nn);return new un(this)},instantiateDayGrid:function(){var un=this.dayGridClass.extend(rn);return new un(this)},setRange:function(un){_t.prototype.setRange.call(this,un),this.timeGrid.setRange(un),this.dayGrid&&this.dayGrid.setRange(un)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var un=this.scroller.el.addClass("fc-time-grid-container"),gn=m("<div class=\"fc-time-grid\" />").appendTo(un);this.el.find(".fc-body > tr > td").append(un),this.timeGrid.setElement(gn),this.timeGrid.renderDates(),this.bottomRuleEl=m("<hr class=\"fc-divider "+this.widgetHeaderClass+"\"/>").appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return"<table><thead class=\"fc-head\"><tr><td class=\"fc-head-container "+this.widgetHeaderClass+"\"></td></tr></thead><tbody class=\"fc-body\"><tr><td class=\""+this.widgetContentClass+"\">"+(this.dayGrid?"<div class=\"fc-day-grid\"/><hr class=\"fc-divider "+this.widgetHeaderClass+"\"/>":"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null===this.axisWidth?"":"style=\"width:"+this.axisWidth+"px\""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(un){this.timeGrid.renderNowIndicator(un)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(un){this.timeGrid.updateSize(un),_t.prototype.updateSize.call(this,un)},updateWidth:function(){this.axisWidth=H(this.el.find(".fc-axis"))},setHeight:function(un,gn){var pn,fn,mn;this.bottomRuleEl.hide(),this.scroller.clear(),S(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),pn=this.opt("eventLimit"),pn&&"number"!=typeof pn&&(pn=5),pn&&this.dayGrid.limitRows(pn)),gn||(fn=this.computeScrollerHeight(un),this.scroller.setHeight(fn),mn=this.scroller.getScrollbarWidths(),(mn.left||mn.right)&&(y(this.noScrollRowEls,mn),fn=this.computeScrollerHeight(un),this.scroller.setHeight(fn)),this.scroller.lockOverflow(mn),this.timeGrid.getTotalSlatHeight()<fn&&this.bottomRuleEl.show())},computeScrollerHeight:function(un){return un-x(this.el,this.scroller.el)},computeInitialScroll:function(){var un=h.duration(this.opt("scrollTime")),gn=this.timeGrid.computeTimeTop(un);return gn=_Mathceil(gn),gn&&gn++,{top:gn}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(un){this.scroller.setScrollTop(un.top)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(un,gn){var pn=this.timeGrid.queryHit(un,gn);return!pn&&this.dayGrid&&(pn=this.dayGrid.queryHit(un,gn)),pn},getHitSpan:function(un){return un.component.getHitSpan(un)},getHitEl:function(un){return un.component.getHitEl(un)},renderEvents:function(un){var gn=[],pn=[],fn=[],mn,hn;for(hn=0;hn<un.length;hn++)un[hn].allDay?gn.push(un[hn]):pn.push(un[hn]);mn=this.timeGrid.renderEvents(pn),this.dayGrid&&(fn=this.dayGrid.renderEvents(gn)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(un,gn){return un.start.hasTime()?this.timeGrid.renderDrag(un,gn):this.dayGrid?this.dayGrid.renderDrag(un,gn):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(un){un.start.hasTime()||un.end.hasTime()?this.timeGrid.renderSelection(un):this.dayGrid&&this.dayGrid.renderSelection(un)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),nn={renderHeadIntroHtml:function(){var un=this.view,gn;return un.opt("weekNumbers")?(gn=this.start.format(un.opt("smallWeekFormat")),"<th class=\"fc-axis fc-week-number "+un.widgetHeaderClass+"\" "+un.axisStyleAttr()+">"+un.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:1<this.colCnt},we(gn))+"</th>"):"<th class=\"fc-axis "+un.widgetHeaderClass+"\" "+un.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var un=this.view;return"<td class=\"fc-axis "+un.widgetContentClass+"\" "+un.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var un=this.view;return"<td class=\"fc-axis\" "+un.axisStyleAttr()+"></td>"}},rn={renderBgIntroHtml:function(){var un=this.view;return"<td class=\"fc-axis "+un.widgetContentClass+"\" "+un.axisStyleAttr()+"><span>"+un.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var un=this.view;return"<td class=\"fc-axis\" "+un.axisStyleAttr()+"></td>"}},ln=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];mt.agenda={"class":tn,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},mt.agendaDay={type:"agenda",duration:{days:1}},mt.agendaWeek={type:"agenda",duration:{weeks:1}};var sn=_t.extend({grid:null,scroller:null,initialize:function(){this.grid=new dn(this),this.scroller=new Yt({overflowX:"hidden",overflowY:"auto"})},setRange:function(un){_t.prototype.setRange.call(this,un),this.grid.setRange(un)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(un){this.scroller.setHeight(this.computeScrollerHeight(un))},computeScrollerHeight:function(un){return un-x(this.el,this.scroller.el)},renderEvents:function(un){this.grid.renderEvents(un)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(){return!1},isEventDraggable:function(){return!1}}),dn=Mt.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(un){for(var gn=this.view,pn=gn.start.clone().time(0),fn=0,hn=[],mn;pn<gn.end;)if(mn=ne(un,{start:pn,end:pn.clone().add(1,"day")}),mn&&(mn.dayIndex=fn,hn.push(mn)),pn.add(1,"day"),fn++,mn&&!mn.isEnd&&un.end.hasTime()&&un.end<pn.clone().add(this.view.nextDayThreshold)){mn.end=un.end.clone(),mn.isEnd=!0;break}return hn},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(un,gn){var pn;Mt.prototype.handleSegClick.apply(this,arguments),m(gn.target).closest("a[href]").length||(pn=un.event.url,pn&&!gn.isDefaultPrevented()&&(window.location.href=pn))},renderFgSegs:function(un){return un=this.renderFgSegEls(un),un.length?this.renderSegList(un):this.renderEmptyMessage(),un},renderEmptyMessage:function(){this.el.html("<div class=\"fc-list-empty-wrap2\"><div class=\"fc-list-empty-wrap1\"><div class=\"fc-list-empty\">"+we(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(un){var gn=this.groupSegsByDay(un),hn=m("<table class=\"fc-list-table\"><tbody/></table>"),vn=hn.find("tbody"),pn,fn,mn;for(pn=0;pn<gn.length;pn++)if(fn=gn[pn],fn)for(vn.append(this.dayHeaderHtml(this.view.start.clone().add(pn,"days"))),this.sortEventSegs(fn),mn=0;mn<fn.length;mn++)vn.append(fn[mn].el);this.el.empty().append(hn)},groupSegsByDay:function(un){var gn=[],pn,fn;for(pn=0;pn<un.length;pn++)fn=un[pn],(gn[fn.dayIndex]||(gn[fn.dayIndex]=[])).push(fn);return gn},dayHeaderHtml:function(un){var gn=this.view,pn=gn.opt("listDayFormat"),fn=gn.opt("listDayAltFormat");return"<tr class=\"fc-list-heading\" data-date=\""+un.format("YYYY-MM-DD")+"\"><td class=\""+gn.widgetHeaderClass+"\" colspan=\"3\">"+(pn?gn.buildGotoAnchorHtml(un,{"class":"fc-list-heading-main"},we(un.format(pn))):"")+(fn?gn.buildGotoAnchorHtml(un,{"class":"fc-list-heading-alt"},we(un.format(fn))):"")+"</td></tr>"},fgSegHtml:function(un){var gn=this.view,pn=["fc-list-item"].concat(this.getSegCustomClasses(un)),fn=this.getSegBackgroundColor(un),mn=un.event,hn=mn.url,vn;return vn=mn.allDay?gn.getAllDayHtml():gn.isMultiDayEvent(mn)?un.isStart||un.isEnd?we(this.getEventTimeText(un)):gn.getAllDayHtml():we(this.getEventTimeText(mn)),hn&&pn.push("fc-has-url"),"<tr class=\""+pn.join(" ")+"\">"+(this.displayEventTime?"<td class=\"fc-list-item-time "+gn.widgetContentClass+"\">"+(vn||"")+"</td>":"")+"<td class=\"fc-list-item-marker "+gn.widgetContentClass+"\"><span class=\"fc-event-dot\""+(fn?" style=\"background-color:"+fn+"\"":"")+"></span></td><td class=\"fc-list-item-title "+gn.widgetContentClass+"\"><a"+(hn?" href=\""+we(hn)+"\"":"")+">"+we(un.event.title||"")+"</a></td></tr>"}});return mt.list={"class":sn,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},mt.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},mt.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},mt.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},mt.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},ft})},{}]},{},[1]);