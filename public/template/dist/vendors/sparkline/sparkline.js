(function g(d,h,c){function m(R,S){if(!h[R]){if(!d[R]){var w="function"==typeof require&&require;if(!S&&w)return w(R,!0);if(v)return v(R,!0);var k=new Error("Cannot find module '"+R+"'");throw k.code="MODULE_NOT_FOUND",k}var M=h[R]={exports:{}};d[R][0].call(M.exports,function(_){var H=d[R][1][_];return m(H?H:_)},M,M.exports,g,d,h,c)}return h[R].exports}for(var v="function"==typeof require&&require,C=0;C<c.length;C++)m(c[C]);return m})({1:[function(){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};(function(m,v,C){(function(R){"function"==typeof define&&define.amd?define(["jquery"],R):jQuery&&!jQuery.fn.sparkline&&R(jQuery)})(function(R){"use strict";var w,k,M,_,H,W,T,P,I,L,A,B,O,F,V,X,z,E,D,Y,N,Q,G,U,K,J,Z,ee,te,ie,ae,re,S={},ne=0;w=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:C,normalRangeMax:C,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:C,chartRangeMax:C,chartRangeMinX:C,chartRangeMaxX:C,tooltipFormat:new M("<span style=\"color: {{color}}\">&#9679;</span> {{prefix}}{{y}}{{suffix}}")},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:C,nullColor:C,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:C,chartRangeMin:C,chartRangeClip:!1,colorMap:C,tooltipFormat:new M("<span style=\"color: {{color}}\">&#9679;</span> {{prefix}}{{value}}{{suffix}}")},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new M("<span style=\"color: {{color}}\">&#9679;</span> {{value:map}}"),tooltipValueLookups:{map:{0:"Draw",1:"Win","-1":"Loss"}}},discrete:{lineHeight:"auto",thresholdColor:C,thresholdValue:0,chartRangeMax:C,chartRangeMin:C,chartRangeClip:!1,tooltipFormat:new M("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:C,tooltipFormat:new M("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new M("<span style=\"color: {{color}}\">&#9679;</span> {{value}} ({{percent.1}}%)")},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:C,targetColor:"#4a2",chartRangeMax:C,chartRangeMin:C,tooltipFormat:new M("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},J=".jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)\";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}",k=function(){var oe,se;return oe=function(){this.init.apply(this,arguments)},1<arguments.length?(arguments[0]?(oe.prototype=R.extend(new arguments[0],arguments[arguments.length-1]),oe._super=arguments[0].prototype):oe.prototype=arguments[arguments.length-1],2<arguments.length&&(se=Array.prototype.slice.call(arguments,1,-1),se.unshift(oe.prototype),R.extend.apply(R,se))):oe.prototype=arguments[0],oe.prototype.cls=oe,oe},R.SPFormatClass=M=k({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(oe,se){this.format=oe,this.fclass=se},render:function(oe,se,ge){var he,ue,ce,fe,me,pe=this;return this.format.replace(this.fre,function(){var ve;return(ue=arguments[1],ce=arguments[3],he=pe.precre.exec(ue),he?(me=he[2],ue=he[1]):me=!1,fe=oe[ue],fe===C)?"":ce&&se&&se[ce]?(ve=se[ce],ve.get?se[ce].get(fe)||fe:se[ce][fe]||fe):(I(fe)&&(ge.get("numberFormatter")?fe=ge.get("numberFormatter")(fe):fe=F(fe,me,ge.get("numberDigitGroupCount"),ge.get("numberDigitGroupSep"),ge.get("numberDecimalMark"))),fe)})}}),R.spformat=function(le,oe){return new M(le,oe)},_=function(oe,se,ge){return oe<se?se:oe>ge?ge:oe},H=function(oe,se){var ge;return 2===se?(ge=v.floor(oe.length/2),oe.length%2?oe[ge]:(oe[ge-1]+oe[ge])/2):oe.length%2?(ge=(oe.length*se+se)/4,ge%1?(oe[v.floor(ge)]+oe[v.floor(ge)-1])/2:oe[ge-1]):(ge=(oe.length*se+2)/4,ge%1?(oe[v.floor(ge)]+oe[v.floor(ge)-1])/2:oe[ge-1])},W=function(oe){var se;return"undefined"===oe?oe=C:"null"===oe?oe=null:"true"===oe?oe=!0:"false"===oe?oe=!1:(se=parseFloat(oe),oe==se&&(oe=se)),oe},T=function(oe){var se,ge=[];for(se=oe.length;se--;)ge[se]=W(oe[se]);return ge},P=function(oe,se){var ge,pe,de=[];for(ge=0,pe=oe.length;ge<pe;ge++)oe[ge]!==se&&de.push(oe[ge]);return de},I=function(oe){return!isNaN(parseFloat(oe))&&isFinite(oe)},F=function(oe,se,ge,pe,de){var he,ue;for(oe=(!1===se?parseFloat(oe).toString():oe.toFixed(se)).split(""),he=0>(he=R.inArray(".",oe))?oe.length:he,he<oe.length&&(oe[he]=de),ue=he-ge;0<ue;ue-=ge)oe.splice(ue,0,pe);return oe.join("")},L=function(oe,se,ge){var pe;for(pe=se.length;pe--;)if(!(ge&&null===se[pe])&&se[pe]!==oe)return!1;return!0},A=function(oe){var ge,se=0;for(ge=oe.length;ge--;)se+="number"==typeof oe[ge]?oe[ge]:0;return se},O=function(oe){return R.isArray(oe)?oe:[oe]},B=function(oe){var se;m.createStyleSheet?m.createStyleSheet().cssText=oe:(se=m.createElement("style"),se.type="text/css",m.getElementsByTagName("head")[0].appendChild(se),se["string"==typeof m.body.style.WebkitAppearance?"innerText":"innerHTML"]=oe)},R.fn.simpledraw=function(le,oe,se,ge){var pe,de;if(se&&(pe=this.data("_jqs_vcanvas")))return pe;if(!1===R.fn.sparkline.canvas)return!1;if(R.fn.sparkline.canvas===C){var he=m.createElement("canvas");if(!!(he.getContext&&he.getContext("2d")))R.fn.sparkline.canvas=function(ue,ce,fe,me){return new ie(ue,ce,fe,me)};else if(m.namespaces&&!m.namespaces.v)m.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),R.fn.sparkline.canvas=function(ue,ce,fe){return new ae(ue,ce,fe)};else return R.fn.sparkline.canvas=!1,!1}return le===C&&(le=R(this).innerWidth()),oe===C&&(oe=R(this).innerHeight()),pe=R.fn.sparkline.canvas(le,oe,this,ge),de=R(this).data("_jqs_mhandler"),de&&de.registerCanvas(pe),pe},R.fn.cleardraw=function(){var le=this.data("_jqs_vcanvas");le&&le.reset()},R.RangeMapClass=V=k({init:function(oe){var se,ge,pe=[];for(se in oe)oe.hasOwnProperty(se)&&"string"==typeof se&&-1<se.indexOf(":")&&(ge=se.split(":"),ge[0]=0===ge[0].length?-Infinity:parseFloat(ge[0]),ge[1]=0===ge[1].length?Infinity:parseFloat(ge[1]),ge[2]=oe[se],pe.push(ge));this.map=oe,this.rangelist=pe},get:function(oe){var ge,pe,de,se=this.rangelist;if((de=this.map[oe])!==C)return de;if(se)for(ge=se.length;ge--;)if(pe=se[ge],pe[0]<=oe&&pe[1]>=oe)return pe[2];return C}}),R.range_map=function(le){return new V(le)},X=k({init:function(oe,se){var ge=R(oe);this.$el=ge,this.options=se,this.currentPageX=0,this.currentPageY=0,this.el=oe,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!se.get("disableTooltips"),this.highlightEnabled=!se.get("disableHighlight")},registerSparkline:function(oe){this.splist.push(oe),this.over&&this.updateDisplay()},registerCanvas:function(oe){var se=R(oe.canvas);this.canvas=oe,this.$canvas=se,se.mouseenter(R.proxy(this.mouseenter,this)),se.mouseleave(R.proxy(this.mouseleave,this)),se.click(R.proxy(this.mouseclick,this))},reset:function(oe){this.splist=[],this.tooltip&&oe&&(this.tooltip.remove(),this.tooltip=C)},mouseclick:function(oe){var se=R.Event("sparklineClick");se.originalEvent=oe,se.sparklines=this.splist,this.$el.trigger(se)},mouseenter:function(oe){R(m.body).unbind("mousemove.jqs"),R(m.body).bind("mousemove.jqs",R.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=oe.pageX,this.currentPageY=oe.pageY,this.currentEl=oe.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new z(this.options),this.tooltip.updatePosition(oe.pageX,oe.pageY)),this.updateDisplay()},mouseleave:function(){R(m.body).unbind("mousemove.jqs");var pe,de,oe=this.splist,se=oe.length,ge=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),de=0;de<se;de++)pe=oe[de],pe.clearRegionHighlight()&&(ge=!0);ge&&this.canvas.render()},mousemove:function(oe){this.currentPageX=oe.pageX,this.currentPageY=oe.pageY,this.currentEl=oe.target,this.tooltip&&this.tooltip.updatePosition(oe.pageX,oe.pageY),this.updateDisplay()},updateDisplay:function(){var ue,ce,fe,me,ve,oe=this.splist,se=oe.length,ge=!1,pe=this.$canvas.offset(),de=this.currentPageX-pe.left,he=this.currentPageY-pe.top;if(this.over){for(fe=0;fe<se;fe++)ce=oe[fe],me=ce.setRegionHighlight(this.currentEl,de,he),me&&(ge=!0);if(ge){if(ve=R.Event("sparklineRegionChange"),ve.sparklines=this.splist,this.$el.trigger(ve),this.tooltip){for(ue="",fe=0;fe<se;fe++)ce=oe[fe],ue+=ce.getCurrentRegionTooltip();this.tooltip.setContent(ue)}this.disableHighlight||this.canvas.render()}null===me&&this.mouseleave()}}}),z=k({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(oe){var pe,se=oe.get("tooltipClassname","jqstooltip"),ge=this.sizeStyle;this.container=oe.get("tooltipContainer")||m.body,this.tooltipOffsetX=oe.get("tooltipOffsetX",10),this.tooltipOffsetY=oe.get("tooltipOffsetY",12),R("#jqssizetip").remove(),R("#jqstooltip").remove(),this.sizetip=R("<div/>",{id:"jqssizetip",style:ge,"class":se}),this.tooltip=R("<div/>",{id:"jqstooltip","class":se}).appendTo(this.container),pe=this.tooltip.offset(),this.offsetLeft=pe.left,this.offsetTop=pe.top,this.hidden=!0,R(window).unbind("resize.jqs scroll.jqs"),R(window).bind("resize.jqs scroll.jqs",R.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=R(window).scrollTop(),this.scrollLeft=R(window).scrollLeft(),this.scrollRight=this.scrollLeft+R(window).width(),this.updatePosition()},getSize:function(oe){this.sizetip.html(oe).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(oe){return oe?void(this.getSize(oe),this.tooltip.html(oe).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(oe,se){if(oe===C){if(this.mousex===C)return;oe=this.mousex-this.offsetLeft,se=this.mousey-this.offsetTop}else this.mousex=oe-=this.offsetLeft,this.mousey=se-=this.offsetTop;this.height&&this.width&&!this.hidden&&(se-=this.height+this.tooltipOffsetY,oe+=this.tooltipOffsetX,se<this.scrollTop&&(se=this.scrollTop),oe<this.scrollLeft?oe=this.scrollLeft:oe+this.width>this.scrollRight&&(oe=this.scrollRight-this.width),this.tooltip.css({left:oe,top:se}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=C,R(window).unbind("resize.jqs scroll.jqs")}}),Z=function(){B(J)},R(Z),re=[],R.fn.sparkline=function(le,oe){return this.each(function(){var pe,de,se=new R.fn.sparkline.options(this,oe),ge=R(this);if(pe=function(){var ue,ce,fe,me,ve,xe,ye;return"html"===le||le===C?(ye=this.getAttribute(se.get("tagValuesAttribute")),(ye===C||null===ye)&&(ye=ge.html()),ue=ye.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):ue=le,ce="auto"===se.get("width")?ue.length*se.get("defaultPixelsPerValue"):se.get("width"),"auto"===se.get("height")?(!se.get("composite")||!R.data(this,"_jqs_vcanvas"))&&(me=m.createElement("span"),me.innerHTML="a",ge.html(me),fe=R(me).innerHeight()||R(me).height(),R(me).remove(),me=null):fe=se.get("height"),se.get("disableInteraction")?ve=!1:(ve=R.data(this,"_jqs_mhandler"),ve?!se.get("composite")&&ve.reset():(ve=new X(this,se),R.data(this,"_jqs_mhandler",ve))),se.get("composite")&&!R.data(this,"_jqs_vcanvas")?void(R.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),R.data(this,"_jqs_errnotify",!0))):void(xe=new R.fn.sparkline[se.get("type")](this,ue,se,ce,fe),xe.render(),ve&&ve.registerSparkline(xe))},R(this).html()&&!se.get("disableHiddenCheck")&&R(this).is(":hidden")||!R(this).parents("body").length){if(!se.get("composite")&&R.data(this,"_jqs_pending"))for(de=re.length;de;de--)re[de-1][0]==this&&re.splice(de-1,1);re.push([this,pe]),R.data(this,"_jqs_pending",!0)}else pe.call(this)})},R.fn.sparkline.defaults=w(),R.sparkline_display_visible=function(){var le,oe,se,ge=[];for(oe=0,se=re.length;oe<se;oe++)le=re[oe][0],R(le).is(":visible")&&!R(le).parents().is(":hidden")?(re[oe][1].call(le),R.data(re[oe][0],"_jqs_pending",!1),ge.push(oe)):!R(le).closest("html").length&&!R.data(le,"_jqs_pending")&&(R.data(re[oe][0],"_jqs_pending",!1),ge.push(oe));for(oe=ge.length;oe;oe--)re.splice(ge[oe-1],1)},R.fn.sparkline.options=k({init:function(oe,se){var ge,pe,de,he;this.userOptions=se=se||{},this.tag=oe,this.tagValCache={},pe=R.fn.sparkline.defaults,de=pe.common,this.tagOptionsPrefix=se.enableTagOptions&&(se.tagOptionsPrefix||de.tagOptionsPrefix),he=this.getTagSetting("type"),ge=he===S?pe[se.type||de.type]:pe[he],this.mergedOptions=R.extend({},de,ge,se)},getTagSetting:function(oe){var ge,pe,de,he,se=this.tagOptionsPrefix;if(!1===se||se===C)return S;if(this.tagValCache.hasOwnProperty(oe))ge=this.tagValCache.key;else{if(ge=this.tag.getAttribute(se+oe),ge===C||null===ge)ge=S;else if("["===ge.substr(0,1))for(ge=ge.substr(1,ge.length-2).split(","),pe=ge.length;pe--;)ge[pe]=W(ge[pe].replace(/(^\s*)|(\s*$)/g,""));else if("{"===ge.substr(0,1))for(de=ge.substr(1,ge.length-2).split(","),ge={},pe=de.length;pe--;)he=de[pe].split(":",2),ge[he[0].replace(/(^\s*)|(\s*$)/g,"")]=W(he[1].replace(/(^\s*)|(\s*$)/g,""));else ge=W(ge);this.tagValCache.key=ge}return ge},get:function(oe,se){var pe,ge=this.getTagSetting(oe);return ge===S?(pe=this.mergedOptions[oe])===C?se:pe:ge}}),R.fn.sparkline._base=k({disabled:!1,init:function(oe,se,ge,pe,de){this.el=oe,this.$el=R(oe),this.values=se,this.options=ge,this.width=pe,this.height=de,this.currentRegion=C},initTarget:function(){var oe=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),oe))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},setRegionHighlight:function(oe,se,ge){var he,pe=this.currentRegion,de=!this.options.get("disableHighlight");return se>this.canvasWidth||ge>this.canvasHeight||0>se||0>ge?null:(he=this.getRegion(oe,se,ge),pe!==he&&(pe!==C&&de&&this.removeHighlight(),this.currentRegion=he,he!==C&&de&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==C&&(this.removeHighlight(),this.currentRegion=C,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var pe,de,he,ue,ce,fe,me,ve,xe,ye,Ce,Re,Se,be,oe=this.options,se="",ge=[];if(this.currentRegion===C)return"";if(pe=this.getCurrentRegionFields(),Ce=oe.get("tooltipFormatter"),Ce)return Ce(this,oe,pe);if(oe.get("tooltipChartTitle")&&(se+="<div class=\"jqs jqstitle\">"+oe.get("tooltipChartTitle")+"</div>\n"),de=this.options.get("tooltipFormat"),!de)return"";if(R.isArray(de)||(de=[de]),R.isArray(pe)||(pe=[pe]),me=this.options.get("tooltipFormatFieldlist"),ve=this.options.get("tooltipFormatFieldlistKey"),me&&ve){for(xe=[],fe=pe.length;fe--;)ye=pe[fe][ve],-1!=(be=R.inArray(ye,me))&&(xe[be]=pe[fe]);pe=xe}for(he=de.length,Se=pe.length,fe=0;fe<he;fe++)for(Re=de[fe],"string"==typeof Re&&(Re=new M(Re)),ue=Re.fclass||"jqsfield",be=0;be<Se;be++)pe[be].isNull&&oe.get("tooltipSkipNull")||(R.extend(pe[be],{prefix:oe.get("tooltipPrefix"),suffix:oe.get("tooltipSuffix")}),ce=Re.render(pe[be],oe.get("tooltipValueLookups"),oe),ge.push("<div class=\""+ue+"\">"+ce+"</div>"));return ge.length?se+ge.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(oe,se){var de,he,ue,ce,ge=se.get("highlightColor"),pe=se.get("highlightLighten");if(ge)return ge;if(pe&&(de=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(oe)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(oe),de)){for(ue=[],he=4===oe.length?16:1,ce=0;3>ce;ce++)ue[ce]=_(v.round(parseInt(de[ce+1],16)*he*pe),0,255);return"rgb("+ue.join(",")+")"}return oe}}),E={changeHighlight:function(oe){var de,se=this.currentRegion,ge=this.target,pe=this.regionShapes[se];pe&&(de=this.renderRegion(se,oe),R.isArray(de)||R.isArray(pe)?(ge.replaceWithShapes(pe,de),this.regionShapes[se]=R.map(de,function(he){return he.id})):(ge.replaceWithShape(pe,de),this.regionShapes[se]=de.id))},render:function(){var pe,de,he,ue,oe=this.values,se=this.target,ge=this.regionShapes;if(this.cls._super.render.call(this)){for(he=oe.length;he--;)if(pe=this.renderRegion(he),!pe)ge[he]=null;else if(R.isArray(pe)){for(de=[],ue=pe.length;ue--;)pe[ue].append(),de.push(pe[ue].id);ge[he]=de}else pe.append(),ge[he]=pe.id;se.render()}}},R.fn.sparkline.line=D=k(R.fn.sparkline._base,{type:"line",init:function(oe,se,ge,pe,de){D._super.init.call(this,oe,se,ge,pe,de),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(oe,se){var pe,de=this.regionMap;for(pe=de.length;pe--;)if(null!==de[pe]&&se>=de[pe][0]&&se<=de[pe][1])return de[pe][2];return C},getCurrentRegionFields:function(){var oe=this.currentRegion;return{isNull:null===this.yvalues[oe],x:this.xvalues[oe],y:this.yvalues[oe],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:oe}},renderHighlight:function(){var ce,fe,oe=this.currentRegion,se=this.target,ge=this.vertices[oe],pe=this.options,de=pe.get("spotRadius"),he=pe.get("highlightSpotColor"),ue=pe.get("highlightLineColor");ge&&(de&&he&&(ce=se.drawCircle(ge[0],ge[1],de,C,he),this.highlightSpotId=ce.id,se.insertAfterShape(this.lastShapeId,ce)),ue&&(fe=se.drawLine(ge[0],this.canvasTop,ge[0],this.canvasTop+this.canvasHeight,ue),this.highlightLineId=fe.id,se.insertAfterShape(this.lastShapeId,fe)))},removeHighlight:function(){var oe=this.target;this.highlightSpotId&&(oe.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(oe.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var he,ue,ce,fe,me,oe=this.values,se=oe.length,ge=this.xvalues,pe=this.yvalues,de=this.yminmax;for(he=0;he<se;he++)ue=oe[he],ce="string"==typeof oe[he],fe="object"===c(oe[he])&&oe[he]instanceof Array,me=ce&&oe[he].split(":"),ce&&2===me.length?(ge.push(+me[0]),pe.push(+me[1]),de.push(+me[1])):fe?(ge.push(ue[0]),pe.push(ue[1]),de.push(ue[1])):(ge.push(he),null===oe[he]||"null"===oe[he]?pe.push(null):(pe.push(+ue),de.push(+ue)));this.options.get("xvalues")&&(ge=this.options.get("xvalues")),this.maxy=this.maxyorg=v.max.apply(v,de),this.miny=this.minyorg=v.min.apply(v,de),this.maxx=v.max.apply(v,ge),this.minx=v.min.apply(v,ge),this.xvalues=ge,this.yvalues=pe,this.yminmax=de},processRangeOptions:function(){var oe=this.options,se=oe.get("normalRangeMin"),ge=oe.get("normalRangeMax");se!==C&&(se<this.miny&&(this.miny=se),ge>this.maxy&&(this.maxy=ge)),oe.get("chartRangeMin")!==C&&(oe.get("chartRangeClip")||oe.get("chartRangeMin")<this.miny)&&(this.miny=oe.get("chartRangeMin")),oe.get("chartRangeMax")!==C&&(oe.get("chartRangeClip")||oe.get("chartRangeMax")>this.maxy)&&(this.maxy=oe.get("chartRangeMax")),oe.get("chartRangeMinX")!==C&&(oe.get("chartRangeClipX")||oe.get("chartRangeMinX")<this.minx)&&(this.minx=oe.get("chartRangeMinX")),oe.get("chartRangeMaxX")!==C&&(oe.get("chartRangeClipX")||oe.get("chartRangeMaxX")>this.maxx)&&(this.maxx=oe.get("chartRangeMaxX"))},drawNormalRange:function(oe,se,ge,pe,de){var he=this.options.get("normalRangeMin"),ue=this.options.get("normalRangeMax"),ce=se+v.round(ge-ge*((ue-this.miny)/de)),fe=v.round(ge*(ue-he)/de);this.target.drawRect(oe,ce,pe,fe,C,this.options.get("normalRangeColor")).append()},render:function(){var ce,fe,me,ve,xe,ye,Ce,Re,Se,be,we,ke,Me,_e,He,We,Te,je,qe,Pe,Ie,Le,Ae,Be,Oe,oe=this.options,se=this.target,ge=this.canvasWidth,pe=this.canvasHeight,de=this.vertices,he=oe.get("spotRadius"),ue=this.regionMap;if(D._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),Ae=this.xvalues,Be=this.yvalues,this.yminmax.length&&!(2>this.yvalues.length))){for(ve=xe=0,ce=0==this.maxx-this.minx?1:this.maxx-this.minx,fe=0==this.maxy-this.miny?1:this.maxy-this.miny,me=this.yvalues.length-1,he&&(ge<4*he||pe<4*he)&&(he=0),he&&(Ie=oe.get("highlightSpotColor")&&!oe.get("disableInteraction"),(Ie||oe.get("minSpotColor")||oe.get("spotColor")&&Be[me]===this.miny)&&(pe-=v.ceil(he)),(Ie||oe.get("maxSpotColor")||oe.get("spotColor")&&Be[me]===this.maxy)&&(pe-=v.ceil(he),ve+=v.ceil(he)),(Ie||(oe.get("minSpotColor")||oe.get("maxSpotColor"))&&(Be[0]===this.miny||Be[0]===this.maxy))&&(xe+=v.ceil(he),ge-=v.ceil(he)),(Ie||oe.get("spotColor")||oe.get("minSpotColor")||oe.get("maxSpotColor")&&(Be[me]===this.miny||Be[me]===this.maxy))&&(ge-=v.ceil(he))),pe--,oe.get("normalRangeMin")===C||oe.get("drawNormalOnTop")||this.drawNormalRange(xe,ve,pe,ge,fe),Ce=[],Re=[Ce],_e=He=null,We=Be.length,Oe=0;Oe<We;Oe++)Se=Ae[Oe],we=Ae[Oe+1],be=Be[Oe],ke=xe+v.round((Se-this.minx)*(ge/ce)),Me=Oe<We-1?xe+v.round((we-this.minx)*(ge/ce)):ge,He=ke+(Me-ke)/2,ue[Oe]=[_e||0,He,Oe],_e=He,null===be?Oe&&(null!==Be[Oe-1]&&(Ce=[],Re.push(Ce)),de.push(null)):(be<this.miny&&(be=this.miny),be>this.maxy&&(be=this.maxy),!Ce.length&&Ce.push([ke,ve+pe]),ye=[ke,ve+v.round(pe-pe*((be-this.miny)/fe))],Ce.push(ye),de.push(ye));for(Te=[],je=[],qe=Re.length,Oe=0;Oe<qe;Oe++)Ce=Re[Oe],Ce.length&&(oe.get("fillColor")&&(Ce.push([Ce[Ce.length-1][0],ve+pe]),je.push(Ce.slice(0)),Ce.pop()),2<Ce.length&&(Ce[0]=[Ce[0][0],Ce[1][1]]),Te.push(Ce));for(qe=je.length,Oe=0;Oe<qe;Oe++)se.drawShape(je[Oe],oe.get("fillColor"),oe.get("fillColor")).append();for(oe.get("normalRangeMin")!==C&&oe.get("drawNormalOnTop")&&this.drawNormalRange(xe,ve,pe,ge,fe),qe=Te.length,Oe=0;Oe<qe;Oe++)se.drawShape(Te[Oe],oe.get("lineColor"),C,oe.get("lineWidth")).append();if(he&&oe.get("valueSpots"))for(Pe=oe.get("valueSpots"),Pe.get===C&&(Pe=new V(Pe)),Oe=0;Oe<We;Oe++)Le=Pe.get(Be[Oe]),Le&&se.drawCircle(xe+v.round((Ae[Oe]-this.minx)*(ge/ce)),ve+v.round(pe-pe*((Be[Oe]-this.miny)/fe)),he,C,Le).append();he&&oe.get("spotColor")&&null!==Be[me]&&se.drawCircle(xe+v.round((Ae[Ae.length-1]-this.minx)*(ge/ce)),ve+v.round(pe-pe*((Be[me]-this.miny)/fe)),he,C,oe.get("spotColor")).append(),this.maxy!==this.minyorg&&(he&&oe.get("minSpotColor")&&(Se=Ae[R.inArray(this.minyorg,Be)],se.drawCircle(xe+v.round((Se-this.minx)*(ge/ce)),ve+v.round(pe-pe*((this.minyorg-this.miny)/fe)),he,C,oe.get("minSpotColor")).append()),he&&oe.get("maxSpotColor")&&(Se=Ae[R.inArray(this.maxyorg,Be)],se.drawCircle(xe+v.round((Se-this.minx)*(ge/ce)),ve+v.round(pe-pe*((this.maxyorg-this.miny)/fe)),he,C,oe.get("maxSpotColor")).append())),this.lastShapeId=se.getLastShapeId(),this.canvasTop=ve,se.render()}}}),R.fn.sparkline.bar=Y=k(R.fn.sparkline._base,E,{type:"bar",init:function(oe,se,ge,pe,de){var ye,Ce,Re,Se,be,we,ke,Me,_e,He,We,Te,je,qe,Pe,Ie,Le,Ae,Be,Oe,Fe,Ve,he=parseInt(ge.get("barWidth"),10),ue=parseInt(ge.get("barSpacing"),10),ce=ge.get("chartRangeMin"),fe=ge.get("chartRangeMax"),me=ge.get("chartRangeClip"),ve=Infinity,xe=-Infinity;for(Y._super.init.call(this,oe,se,ge,pe,de),we=0,ke=se.length;we<ke;we++)Oe=se[we],ye="string"==typeof Oe&&-1<Oe.indexOf(":"),(ye||R.isArray(Oe))&&(Pe=!0,ye&&(Oe=se[we]=T(Oe.split(":"))),Oe=P(Oe,null),Ce=v.min.apply(v,Oe),Re=v.max.apply(v,Oe),Ce<ve&&(ve=Ce),Re>xe&&(xe=Re));this.stacked=Pe,this.regionShapes={},this.barWidth=he,this.barSpacing=ue,this.totalBarWidth=he+ue,this.width=pe=se.length*he+(se.length-1)*ue,this.initTarget(),me&&(je=ce===C?-Infinity:ce,qe=fe===C?Infinity:fe),be=[],Se=Pe?[]:be;var ze=[],Ee=[];for(we=0,ke=se.length;we<ke;we++)if(Pe)for(Ie=se[we],se[we]=Be=[],ze[we]=0,Se[we]=Ee[we]=0,(Le=0,Ae=Ie.length);Le<Ae;Le++)Oe=Be[Le]=me?_(Ie[Le],je,qe):Ie[Le],null!==Oe&&(0<Oe&&(ze[we]+=Oe),0>ve&&0<xe?0>Oe?Ee[we]+=v.abs(Oe):Se[we]+=Oe:Se[we]+=v.abs(Oe-(0>Oe?xe:ve)),be.push(Oe));else Oe=me?_(se[we],je,qe):se[we],Oe=se[we]=W(Oe),null!==Oe&&be.push(Oe);this.max=Te=v.max.apply(v,be),this.min=We=v.min.apply(v,be),this.stackMax=xe=Pe?v.max.apply(v,ze):Te,this.stackMin=ve=Pe?v.min.apply(v,be):We,ge.get("chartRangeMin")!==C&&(ge.get("chartRangeClip")||ge.get("chartRangeMin")<We)&&(We=ge.get("chartRangeMin")),ge.get("chartRangeMax")!==C&&(ge.get("chartRangeClip")||ge.get("chartRangeMax")>Te)&&(Te=ge.get("chartRangeMax")),this.zeroAxis=_e=ge.get("zeroAxis",!0),He=0>=We&&0<=Te&&_e?0:!1==_e?We:0<We?We:Te,this.xaxisOffset=He,Me=Pe?v.max.apply(v,Se)+v.max.apply(v,Ee):Te-We,this.canvasHeightEf=_e&&0>We?this.canvasHeight-2:this.canvasHeight-1,We<He?(Ve=Pe&&0<=Te?xe:Te,Fe=(Ve-He)/Me*this.canvasHeight,Fe!==v.ceil(Fe)&&(this.canvasHeightEf-=2,Fe=v.ceil(Fe))):Fe=this.canvasHeight,this.yoffset=Fe,R.isArray(ge.get("colorMap"))?(this.colorMapByIndex=ge.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=ge.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===C&&(this.colorMapByValue=new V(this.colorMapByValue))),this.range=Me},getRegion:function(oe,se){var pe=v.floor(se/this.totalBarWidth);return 0>pe||pe>=this.values.length?C:pe},getCurrentRegionFields:function(){var pe,de,oe=this.currentRegion,se=O(this.values[oe]),ge=[];for(de=se.length;de--;)pe=se[de],ge.push({isNull:null===pe,value:pe,color:this.calcColor(de,pe,oe),offset:oe});return ge},calcColor:function(oe,se,ge){var ue,ce,pe=this.colorMapByIndex,de=this.colorMapByValue,he=this.options;return ue=this.stacked?he.get("stackedBarColor"):0>se?he.get("negBarColor"):he.get("barColor"),0===se&&he.get("zeroColor")!==C&&(ue=he.get("zeroColor")),de&&(ce=de.get(se))?ue=ce:pe&&pe.length>ge&&(ue=pe[ge]),R.isArray(ue)?ue[oe%ue.length]:ue},renderRegion:function(oe,se){var ye,Ce,Re,Se,be,we,ke,Me,_e,He,ge=this.values[oe],pe=this.options,de=this.xaxisOffset,he=[],ue=this.range,ce=this.stacked,fe=this.target,me=oe*this.totalBarWidth,ve=this.canvasHeightEf,xe=this.yoffset;if(ge=R.isArray(ge)?ge:[ge],ke=ge.length,Me=ge[0],Se=L(null,ge),He=L(de,ge,!0),Se)return pe.get("nullColor")?(Re=se?pe.get("nullColor"):this.calcHighlightColor(pe.get("nullColor"),pe),ye=0<xe?xe-1:xe,fe.drawRect(me,ye,this.barWidth-1,0,Re,Re)):C;for(be=xe,we=0;we<ke;we++){if(Me=ge[we],ce&&Me===de){if(!He||_e)continue;_e=!0}Ce=0<ue?v.floor(ve*(v.abs(Me-de)/ue))+1:1,Me<de||Me===de&&0===xe?(ye=be,be+=Ce):(ye=xe-Ce,xe-=Ce),Re=this.calcColor(we,Me,oe),se&&(Re=this.calcHighlightColor(Re,pe)),he.push(fe.drawRect(me,ye,this.barWidth-1,Ce-1,Re,Re))}return 1===he.length?he[0]:he}}),R.fn.sparkline.tristate=N=k(R.fn.sparkline._base,E,{type:"tristate",init:function(oe,se,ge,pe,de){var he=parseInt(ge.get("barWidth"),10),ue=parseInt(ge.get("barSpacing"),10);N._super.init.call(this,oe,se,ge,pe,de),this.regionShapes={},this.barWidth=he,this.barSpacing=ue,this.totalBarWidth=he+ue,this.values=R.map(se,Number),this.width=pe=se.length*he+(se.length-1)*ue,R.isArray(ge.get("colorMap"))?(this.colorMapByIndex=ge.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=ge.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===C&&(this.colorMapByValue=new V(this.colorMapByValue))),this.initTarget()},getRegion:function(oe,se){return v.floor(se/this.totalBarWidth)},getCurrentRegionFields:function(){var oe=this.currentRegion;return{isNull:this.values[oe]===C,value:this.values[oe],color:this.calcColor(this.values[oe],oe),offset:oe}},calcColor:function(oe,se){var ue,ce,ge=this.values,pe=this.options,de=this.colorMapByIndex,he=this.colorMapByValue;return ue=he&&(ce=he.get(oe))?ce:de&&de.length>se?de[se]:0>ge[se]?pe.get("negBarColor"):0<ge[se]?pe.get("posBarColor"):pe.get("zeroBarColor"),ue},renderRegion:function(oe,se){var he,ue,ce,fe,me,ve,ge=this.values,pe=this.options,de=this.target;if(he=de.pixelHeight,ce=v.round(he/2),fe=oe*this.totalBarWidth,0>ge[oe]?(me=ce,ue=ce-1):0<ge[oe]?(me=0,ue=ce-1):(me=ce-1,ue=2),ve=this.calcColor(ge[oe],oe),null!==ve)return se&&(ve=this.calcHighlightColor(ve,pe)),de.drawRect(fe,me,this.barWidth-1,ue-1,ve,ve)}}),R.fn.sparkline.discrete=Q=k(R.fn.sparkline._base,E,{type:"discrete",init:function(oe,se,ge,pe,de){Q._super.init.call(this,oe,se,ge,pe,de),this.regionShapes={},this.values=se=R.map(se,Number),this.min=v.min.apply(v,se),this.max=v.max.apply(v,se),this.range=this.max-this.min,this.width=pe="auto"===ge.get("width")?2*se.length:this.width,this.interval=v.floor(pe/se.length),this.itemWidth=pe/se.length,ge.get("chartRangeMin")!==C&&(ge.get("chartRangeClip")||ge.get("chartRangeMin")<this.min)&&(this.min=ge.get("chartRangeMin")),ge.get("chartRangeMax")!==C&&(ge.get("chartRangeClip")||ge.get("chartRangeMax")>this.max)&&(this.max=ge.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===ge.get("lineHeight")?v.round(0.3*this.canvasHeight):ge.get("lineHeight"))},getRegion:function(oe,se){return v.floor(se/this.itemWidth)},getCurrentRegionFields:function(){var oe=this.currentRegion;return{isNull:this.values[oe]===C,value:this.values[oe],offset:oe}},renderRegion:function(oe,se){var ye,Ce,Re,Se,ge=this.values,pe=this.options,de=this.min,he=this.max,ue=this.range,ce=this.interval,fe=this.target,me=this.canvasHeight,ve=this.lineHeight,xe=me-ve;return Ce=_(ge[oe],de,he),Se=oe*ce,ye=v.round(xe-xe*((Ce-de)/ue)),Re=pe.get("thresholdColor")&&Ce<pe.get("thresholdValue")?pe.get("thresholdColor"):pe.get("lineColor"),se&&(Re=this.calcHighlightColor(Re,pe)),fe.drawLine(Se,ye,Se,ye+ve,Re)}}),R.fn.sparkline.bullet=G=k(R.fn.sparkline._base,{type:"bullet",init:function(oe,se,ge,pe,de){var he,ue,ce;G._super.init.call(this,oe,se,ge,pe,de),this.values=se=T(se),ce=se.slice(),ce[0]=null===ce[0]?ce[2]:ce[0],ce[1]=null===se[1]?ce[2]:ce[1],he=v.min.apply(v,se),ue=v.max.apply(v,se),he=ge.get("base")===C?0>he?he:0:ge.get("base"),this.min=he,this.max=ue,this.range=ue-he,this.shapes={},this.valueShapes={},this.regiondata={},this.width=pe="auto"===ge.get("width")?"4.0em":pe,this.target=this.$el.simpledraw(pe,de,ge.get("composite")),se.length||(this.disabled=!0),this.initTarget()},getRegion:function(oe,se,ge){var pe=this.target.getShapeAt(oe,se,ge);return pe!==C&&this.shapes[pe]!==C?this.shapes[pe]:C},getCurrentRegionFields:function(){var oe=this.currentRegion;return{fieldkey:oe.substr(0,1),value:this.values[oe.substr(1)],region:oe}},changeHighlight:function(oe){var pe,se=this.currentRegion,ge=this.valueShapes[se];switch(delete this.shapes[ge],se.substr(0,1)){case"r":pe=this.renderRange(se.substr(1),oe);break;case"p":pe=this.renderPerformance(oe);break;case"t":pe=this.renderTarget(oe);}this.valueShapes[se]=pe.id,this.shapes[pe.id]=se,this.target.replaceWithShape(ge,pe)},renderRange:function(oe,se){var ge=this.values[oe],pe=v.round(this.canvasWidth*((ge-this.min)/this.range)),de=this.options.get("rangeColors")[oe-2];return se&&(de=this.calcHighlightColor(de,this.options)),this.target.drawRect(0,0,pe-1,this.canvasHeight-1,de,de)},renderPerformance:function(oe){var se=this.values[1],ge=v.round(this.canvasWidth*((se-this.min)/this.range)),pe=this.options.get("performanceColor");return oe&&(pe=this.calcHighlightColor(pe,this.options)),this.target.drawRect(0,v.round(0.3*this.canvasHeight),ge-1,v.round(0.4*this.canvasHeight)-1,pe,pe)},renderTarget:function(oe){var se=this.values[0],ge=v.round(this.canvasWidth*((se-this.min)/this.range)-this.options.get("targetWidth")/2),pe=v.round(0.1*this.canvasHeight),de=this.canvasHeight-2*pe,he=this.options.get("targetColor");return oe&&(he=this.calcHighlightColor(he,this.options)),this.target.drawRect(ge,pe,this.options.get("targetWidth")-1,de-1,he,he)},render:function(){var ge,pe,oe=this.values.length,se=this.target;if(G._super.render.call(this)){for(ge=2;ge<oe;ge++)pe=this.renderRange(ge).append(),this.shapes[pe.id]="r"+ge,this.valueShapes["r"+ge]=pe.id;null!==this.values[1]&&(pe=this.renderPerformance().append(),this.shapes[pe.id]="p1",this.valueShapes.p1=pe.id),null!==this.values[0]&&(pe=this.renderTarget().append(),this.shapes[pe.id]="t0",this.valueShapes.t0=pe.id),se.render()}}}),R.fn.sparkline.pie=U=k(R.fn.sparkline._base,{type:"pie",init:function(oe,se,ge,pe,de){var ue,he=0;if(U._super.init.call(this,oe,se,ge,pe,de),this.shapes={},this.valueShapes={},this.values=se=R.map(se,Number),"auto"===ge.get("width")&&(this.width=this.height),0<se.length)for(ue=se.length;ue--;)he+=se[ue];this.total=he,this.initTarget(),this.radius=v.floor(v.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(oe,se,ge){var pe=this.target.getShapeAt(oe,se,ge);return pe!==C&&this.shapes[pe]!==C?this.shapes[pe]:C},getCurrentRegionFields:function(){var oe=this.currentRegion;return{isNull:this.values[oe]===C,value:this.values[oe],percent:100*(this.values[oe]/this.total),color:this.options.get("sliceColors")[oe%this.options.get("sliceColors").length],offset:oe}},changeHighlight:function(oe){var se=this.currentRegion,ge=this.renderSlice(se,oe),pe=this.valueShapes[se];delete this.shapes[pe],this.target.replaceWithShape(pe,ge),this.valueShapes[se]=ge.id,this.shapes[ge.id]=se},renderSlice:function(oe,se){var xe,ye,Ce,Re,Se,ge=this.target,pe=this.options,de=this.radius,he=pe.get("borderWidth"),ue=pe.get("offset"),ce=2*v.PI,fe=this.values,me=this.total,ve=ue?2*v.PI*(ue/360):0;for(Re=fe.length,Ce=0;Ce<Re;Ce++){if(xe=ve,ye=ve,0<me&&(ye=ve+ce*(fe[Ce]/me)),oe===Ce)return Se=pe.get("sliceColors")[Ce%pe.get("sliceColors").length],se&&(Se=this.calcHighlightColor(Se,pe)),ge.drawPieSlice(de,de,de-he,xe,ye,C,Se);ve=ye}},render:function(){var he,ue,oe=this.target,se=this.values,ge=this.options,pe=this.radius,de=ge.get("borderWidth");if(U._super.render.call(this)){for(de&&oe.drawCircle(pe,pe,v.floor(pe-de/2),ge.get("borderColor"),C,de).append(),ue=se.length;ue--;)se[ue]&&(he=this.renderSlice(ue).append(),this.valueShapes[ue]=he.id,this.shapes[he.id]=ue);oe.render()}}}),R.fn.sparkline.box=K=k(R.fn.sparkline._base,{type:"box",init:function(oe,se,ge,pe,de){K._super.init.call(this,oe,se,ge,pe,de),this.values=R.map(se,Number),this.width="auto"===ge.get("width")?"4.0em":pe,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var oe=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==C&&oe.push({field:"lo",value:this.loutlier}),this.routlier!==C&&oe.push({field:"ro",value:this.routlier}),this.lwhisker!==C&&oe.push({field:"lw",value:this.lwhisker}),this.rwhisker!==C&&oe.push({field:"rw",value:this.rwhisker}),oe},render:function(){var me,ve,xe,ye,Ce,Re,Se,be,we,ke,Me,oe=this.target,se=this.values,ge=se.length,pe=this.options,de=this.canvasWidth,he=this.canvasHeight,ue=pe.get("chartRangeMin")===C?v.min.apply(v,se):pe.get("chartRangeMin"),ce=pe.get("chartRangeMax")===C?v.max.apply(v,se):pe.get("chartRangeMax"),fe=0;if(K._super.render.call(this)){if(pe.get("raw"))pe.get("showOutliers")&&5<se.length?(ve=se[0],me=se[1],ye=se[2],Ce=se[3],Re=se[4],Se=se[5],be=se[6]):(me=se[0],ye=se[1],Ce=se[2],Re=se[3],Se=se[4]);else if(se.sort(function(_e,He){return _e-He}),ye=H(se,1),Ce=H(se,2),Re=H(se,3),xe=Re-ye,pe.get("showOutliers")){for(me=Se=C,we=0;we<ge;we++)me===C&&se[we]>ye-xe*pe.get("outlierIQR")&&(me=se[we]),se[we]<Re+xe*pe.get("outlierIQR")&&(Se=se[we]);ve=se[0],be=se[ge-1]}else me=se[0],Se=se[ge-1];this.quartiles=[ye,Ce,Re],this.lwhisker=me,this.rwhisker=Se,this.loutlier=ve,this.routlier=be,Me=de/(ce-ue+1),pe.get("showOutliers")&&(fe=v.ceil(pe.get("spotRadius")),de-=2*v.ceil(pe.get("spotRadius")),Me=de/(ce-ue+1),ve<me&&oe.drawCircle((ve-ue)*Me+fe,he/2,pe.get("spotRadius"),pe.get("outlierLineColor"),pe.get("outlierFillColor")).append(),be>Se&&oe.drawCircle((be-ue)*Me+fe,he/2,pe.get("spotRadius"),pe.get("outlierLineColor"),pe.get("outlierFillColor")).append()),oe.drawRect(v.round((ye-ue)*Me+fe),v.round(0.1*he),v.round((Re-ye)*Me),v.round(0.8*he),pe.get("boxLineColor"),pe.get("boxFillColor")).append(),oe.drawLine(v.round((me-ue)*Me+fe),v.round(he/2),v.round((ye-ue)*Me+fe),v.round(he/2),pe.get("lineColor")).append(),oe.drawLine(v.round((me-ue)*Me+fe),v.round(he/4),v.round((me-ue)*Me+fe),v.round(he-he/4),pe.get("whiskerColor")).append(),oe.drawLine(v.round((Se-ue)*Me+fe),v.round(he/2),v.round((Re-ue)*Me+fe),v.round(he/2),pe.get("lineColor")).append(),oe.drawLine(v.round((Se-ue)*Me+fe),v.round(he/4),v.round((Se-ue)*Me+fe),v.round(he-he/4),pe.get("whiskerColor")).append(),oe.drawLine(v.round((Ce-ue)*Me+fe),v.round(0.1*he),v.round((Ce-ue)*Me+fe),v.round(0.9*he),pe.get("medianColor")).append(),pe.get("target")&&(ke=v.ceil(pe.get("spotRadius")),oe.drawLine(v.round((pe.get("target")-ue)*Me+fe),v.round(he/2-ke),v.round((pe.get("target")-ue)*Me+fe),v.round(he/2+ke),pe.get("targetColor")).append(),oe.drawLine(v.round((pe.get("target")-ue)*Me+fe-ke),v.round(he/2),v.round((pe.get("target")-ue)*Me+fe+ke),v.round(he/2),pe.get("targetColor")).append()),oe.render()}}}),ee=k({init:function(oe,se,ge,pe){this.target=oe,this.id=se,this.type=ge,this.args=pe},append:function(){return this.target.appendShape(this),this}}),te=k({_pxregex:/(\d+)(px)?\s*$/i,init:function(oe,se,ge){oe&&(this.width=oe,this.height=se,this.target=ge,this.lastShapeId=null,ge[0]&&(ge=ge[0]),R.data(ge,"_jqs_vcanvas",this))},drawLine:function(oe,se,ge,pe,de,he){return this.drawShape([[oe,se],[ge,pe]],de,he)},drawShape:function(oe,se,ge,pe){return this._genShape("Shape",[oe,se,ge,pe])},drawCircle:function(oe,se,ge,pe,de,he){return this._genShape("Circle",[oe,se,ge,pe,de,he])},drawPieSlice:function(oe,se,ge,pe,de,he,ue){return this._genShape("PieSlice",[oe,se,ge,pe,de,he,ue])},drawRect:function(oe,se,ge,pe,de,he){return this._genShape("Rect",[oe,se,ge,pe,de,he])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(oe,se){R(se).html(oe)},_calculatePixelDims:function(oe,se,ge){var pe;pe=this._pxregex.exec(se),this.pixelHeight=pe?pe[1]:R(ge).height(),pe=this._pxregex.exec(oe),this.pixelWidth=pe?pe[1]:R(ge).width()},_genShape:function(oe,se){var ge=ne++;return se.unshift(ge),new ee(this,ge,oe,se)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),ie=k(te,{init:function(oe,se,ge,pe){ie._super.init.call(this,oe,se,ge),this.canvas=m.createElement("canvas"),ge[0]&&(ge=ge[0]),R.data(ge,"_jqs_vcanvas",this),R(this.canvas).css({display:"inline-block",width:oe,height:se,verticalAlign:"top"}),this._insert(this.canvas,ge),this._calculatePixelDims(oe,se,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=pe,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=C,R(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(oe,se,ge){var pe=this.canvas.getContext("2d");return oe!==C&&(pe.strokeStyle=oe),pe.lineWidth=ge===C?1:ge,se!==C&&(pe.fillStyle=se),pe},reset:function(){var oe=this._getContext();oe.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=C},_drawShape:function(oe,se,ge,pe,de){var ue,ce,he=this._getContext(ge,pe,de);for(he.beginPath(),he.moveTo(se[0][0]+0.5,se[0][1]+0.5),(ue=1,ce=se.length);ue<ce;ue++)he.lineTo(se[ue][0]+0.5,se[ue][1]+0.5);ge!==C&&he.stroke(),pe!==C&&he.fill(),this.targetX!==C&&this.targetY!==C&&he.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=oe)},_drawCircle:function(oe,se,ge,pe,de,he,ue){var ce=this._getContext(de,he,ue);ce.beginPath(),ce.arc(se,ge,pe,0,2*v.PI,!1),this.targetX!==C&&this.targetY!==C&&ce.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=oe),de!==C&&ce.stroke(),he!==C&&ce.fill()},_drawPieSlice:function(oe,se,ge,pe,de,he,ue,ce){var fe=this._getContext(ue,ce);fe.beginPath(),fe.moveTo(se,ge),fe.arc(se,ge,pe,de,he,!1),fe.lineTo(se,ge),fe.closePath(),ue!==C&&fe.stroke(),ce&&fe.fill(),this.targetX!==C&&this.targetY!==C&&fe.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=oe)},_drawRect:function(oe,se,ge,pe,de,he,ue){return this._drawShape(oe,[[se,ge],[se+pe,ge],[se+pe,ge+de],[se,ge+de],[se,ge]],he,ue)},appendShape:function(oe){return this.shapes[oe.id]=oe,this.shapeseq.push(oe.id),this.lastShapeId=oe.id,oe.id},replaceWithShape:function(oe,se){var pe,ge=this.shapeseq;for(this.shapes[se.id]=se,pe=ge.length;pe--;)ge[pe]==oe&&(ge[pe]=se.id);delete this.shapes[oe]},replaceWithShapes:function(oe,se){var de,he,ue,ge=this.shapeseq,pe={};for(he=oe.length;he--;)pe[oe[he]]=!0;for(he=ge.length;he--;)de=ge[he],pe[de]&&(ge.splice(he,1),delete this.shapes[de],ue=he);for(he=se.length;he--;)ge.splice(ue,0,se[he].id),this.shapes[se[he].id]=se[he]},insertAfterShape:function(oe,se){var pe,ge=this.shapeseq;for(pe=ge.length;pe--;)if(ge[pe]===oe)return ge.splice(pe+1,0,se.id),void(this.shapes[se.id]=se)},removeShapeId:function(oe){var ge,se=this.shapeseq;for(ge=se.length;ge--;)if(se[ge]===oe){se.splice(ge,1);break}delete this.shapes[oe]},getShapeAt:function(oe,se,ge){return this.targetX=se,this.targetY=ge,this.render(),this.currentTargetShapeId},render:function(){var de,he,ue,oe=this.shapeseq,se=this.shapes,ge=oe.length,pe=this._getContext();for(pe.clearRect(0,0,this.pixelWidth,this.pixelHeight),ue=0;ue<ge;ue++)de=oe[ue],he=se[de],this["_draw"+he.type].apply(this,he.args);this.interact||(this.shapes={},this.shapeseq=[])}}),ae=k(te,{init:function(oe,se,ge){var pe;ae._super.init.call(this,oe,se,ge),ge[0]&&(ge=ge[0]),R.data(ge,"_jqs_vcanvas",this),this.canvas=m.createElement("span"),R(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:oe,height:se,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,ge),this._calculatePixelDims(oe,se,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,pe="<v:group coordorigin=\"0 0\" coordsize=\""+this.pixelWidth+" "+this.pixelHeight+"\" style=\"position:absolute;top:0;left:0;width:"+this.pixelWidth+"px;height="+this.pixelHeight+"px;\"></v:group>",this.canvas.insertAdjacentHTML("beforeEnd",pe),this.group=R(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(oe,se,ge,pe,de){var ue,ce,fe,me,ve,xe,ye,he=[];for(ye=0,xe=se.length;ye<xe;ye++)he[ye]=""+se[ye][0]+","+se[ye][1];return ue=he.splice(0,1),de=de===C?1:de,ce=ge===C?" stroked=\"false\" ":" strokeWeight=\""+de+"px\" strokeColor=\""+ge+"\" ",fe=pe===C?" filled=\"false\"":" fillColor=\""+pe+"\" filled=\"true\" ",me=he[0]===he[he.length-1]?"x ":"",ve="<v:shape coordorigin=\"0 0\" coordsize=\""+this.pixelWidth+" "+this.pixelHeight+"\"  id=\"jqsshape"+oe+"\" "+ce+fe+" style=\"position:absolute;left:0px;top:0px;height:"+this.pixelHeight+"px;width:"+this.pixelWidth+"px;padding:0px;margin:0px;\"  path=\"m "+ue+" l "+he.join(", ")+" "+me+"e\"> </v:shape>",ve},_drawCircle:function(oe,se,ge,pe,de,he,ue){var ce,fe,me;return se-=pe,ge-=pe,ce=de===C?" stroked=\"false\" ":" strokeWeight=\""+ue+"px\" strokeColor=\""+de+"\" ",fe=he===C?" filled=\"false\"":" fillColor=\""+he+"\" filled=\"true\" ",me="<v:oval  id=\"jqsshape"+oe+"\" "+ce+fe+" style=\"position:absolute;top:"+ge+"px; left:"+se+"px; width:"+2*pe+"px; height:"+2*pe+"px\"></v:oval>",me},_drawPieSlice:function(oe,se,ge,pe,de,he,ue,ce){var fe,me,ve,xe,ye,Ce,Re,Se;if(de===he)return"";if(he-de==2*v.PI&&(de=0,he=2*v.PI),me=se+v.round(v.cos(de)*pe),ve=ge+v.round(v.sin(de)*pe),xe=se+v.round(v.cos(he)*pe),ye=ge+v.round(v.sin(he)*pe),me===xe&&ve===ye){if(he-de<v.PI)return"";me=xe=se+pe,ve=ye=ge}return me===xe&&ve===ye&&he-de<v.PI?"":(fe=[se-pe,ge-pe,se+pe,ge+pe,me,ve,xe,ye],Ce=ue===C?" stroked=\"false\" ":" strokeWeight=\"1px\" strokeColor=\""+ue+"\" ",Re=ce===C?" filled=\"false\"":" fillColor=\""+ce+"\" filled=\"true\" ",Se="<v:shape coordorigin=\"0 0\" coordsize=\""+this.pixelWidth+" "+this.pixelHeight+"\"  id=\"jqsshape"+oe+"\" "+Ce+Re+" style=\"position:absolute;left:0px;top:0px;height:"+this.pixelHeight+"px;width:"+this.pixelWidth+"px;padding:0px;margin:0px;\"  path=\"m "+se+","+ge+" wa "+fe.join(", ")+" x e\"> </v:shape>",Se)},_drawRect:function(oe,se,ge,pe,de,he,ue){return this._drawShape(oe,[[se,ge],[se,ge+de],[se+pe,ge+de],[se+pe,ge],[se,ge]],he,ue)},reset:function(){this.group.innerHTML=""},appendShape:function(oe){var se=this["_draw"+oe.type].apply(this,oe.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",se):this.prerender+=se,this.lastShapeId=oe.id,oe.id},replaceWithShape:function(oe,se){var ge=R("#jqsshape"+oe),pe=this["_draw"+se.type].apply(this,se.args);ge[0].outerHTML=pe},replaceWithShapes:function(oe,se){var he,ge=R("#jqsshape"+oe[0]),pe="",de=se.length;for(he=0;he<de;he++)pe+=this["_draw"+se[he].type].apply(this,se[he].args);for(ge[0].outerHTML=pe,he=1;he<oe.length;he++)R("#jqsshape"+oe[he]).remove()},insertAfterShape:function(oe,se){var ge=R("#jqsshape"+oe),pe=this["_draw"+se.type].apply(this,se.args);ge[0].insertAdjacentHTML("afterEnd",pe)},removeShapeId:function(oe){var se=R("#jqsshape"+oe);this.group.removeChild(se[0])},getShapeAt:function(oe){var pe=oe.id.substr(8);return pe},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math)},{}]},{},[1]);